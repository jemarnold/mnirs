[{"path":"https://jemarnold.github.io/mnirs/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 mnirs authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Analysing muscle oxidative capacity with {mnirs}","text":"continuing develop {mnirs} package processing analysing muscle near-infrared spectroscopy R. article, demonstrate recently added functionality can combined perform muscle oxidative capacity (OxCap) analysis repeated ischaemic occlusion protocol, ensuring reproducibility adhering current gold-standard processing methods. Tip article assumes basic familiarity {mnirs} package. overview demonstration data processing {mnirs}, please see package vignette Reading Cleaning Data {mnirs}. One compelling applications emerging mNIRS research ability non-invasively evaluate muscle oxidative capacity dynamic exercise task. Oxidative capacity maximal rate muscle utilises oxygen (O2) meet energetic demand exercise, related mitochondrial respiratory function [1]. Traditionally, OxCap assessment requires highly complex invasive -vitro methods high-resolution respirometry biopsy tissue samples, expensive -vivo 31P magnetic resonance spectroscopy. mNIRS, muscle OxCap can assessed non-invasively dynamic exercise tasks, lower cost burden traditional methods previously available. participant asked perform brief exercise task muscle contraction stimulus elevate O2 demand target tissue, mNIRS sensors peripheral muscle interest occlusion cuff ready (deflated) around proximal limb. Immediately stimulus, occlusion cuff rapidly inflated supra-systolic blood pressure (e.g., 300 mmHg) transiently stop blood flow distal target muscle site. occlusion held brief period 5-seconds, deflated allow recovery proceed. sequence brief, repeated occlusions performed pre-specified tempo (e.g.¬†5-sec occlusion, 10-sec recovery) twenty repetitions (~5-minutes) muscle recovered back baseline.  Figure 2 McCully et al, 2024 [2]. () experimental setup progressive exercise test. NIRS device placed vastus lateralis using straps. blood pressure cuff placed proximally NIRS device. leg shown lifting weight. NIRS measurements, leg placed top padding horizontal position allow muscle relax measurements. occlusion oxygen delivery constrained assumed zero, rate deoxygenation ‚Äî slope rise deoxyhaeme (HHb/time; ŒºM/sec), decline oxygen saturation oxyhaeme ‚Äî interpreted represent rate local muscle oxygen uptake (mVÃáO2). Immediately exercise task metabolic demand high, mVÃáO2 elevated. decline exponential rate recovery proceeds back baseline. rate constant (k, min-1) monoexponential curve quantifies muscle OxCap value [3].  Figure 1 Adami et al, 2018 [3]. Muscle oxygen consumption (mVO2) recovery rate constant (k) near-infrared spectroscopy. B: example oxidative capacity test NIRS. : changes tissue saturation index (TSI) dynamic exercise (EX, gray area) subsequent intermittent arterial occlusions rest. B: mVO2 recovery kinetics derived rate change TSI intermittent arterial occlusions measured . mVO2 recovery data fit exponential (dashed line) estimate recovery k. C: summaries current reports mVO2 recovery rate constant (k), proportional oxidative capacity, upper lower limbs adults health disease. B: redrawn permission Elsevier (1). technique well studied recent years, validated 31P-MRS [4] mitochondrial content protein markers [5]. rate constant k shown proportionally higher (faster recovery) endurance-trained muscle, lower (slower) pathalogical diseased muscle [3]. Technical procedures analysis methods OxCap assessment converged toward standardisation recent years, methods showing good reliability reproducibility. Recently call implement standard analysis scripts robust slope detection non-linear modelling, minimise operator-related variability research centres, thereby improving interpretation outcomes across populations interventions [6,7]. wanted see well (poorly) current {mnirs} functionality process analyse repeated occlusion muscle OxCap data. future, process wrapped convenience functions make process easier end user. believe process already considerably simpler robust non-reproducible methods relying manual data cleaning, occlusion interval selection, curve fitting.","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"muscle-oxidative-capacity-testing","dir":"Articles","previous_headings":"Introduction","what":"Muscle oxidative capacity testing","title":"Analysing muscle oxidative capacity with {mnirs}","text":"One compelling applications emerging mNIRS research ability non-invasively evaluate muscle oxidative capacity dynamic exercise task. Oxidative capacity maximal rate muscle utilises oxygen (O2) meet energetic demand exercise, related mitochondrial respiratory function [1]. Traditionally, OxCap assessment requires highly complex invasive -vitro methods high-resolution respirometry biopsy tissue samples, expensive -vivo 31P magnetic resonance spectroscopy. mNIRS, muscle OxCap can assessed non-invasively dynamic exercise tasks, lower cost burden traditional methods previously available.","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"protocol-overview","dir":"Articles","previous_headings":"Introduction","what":"Protocol overview","title":"Analysing muscle oxidative capacity with {mnirs}","text":"participant asked perform brief exercise task muscle contraction stimulus elevate O2 demand target tissue, mNIRS sensors peripheral muscle interest occlusion cuff ready (deflated) around proximal limb. Immediately stimulus, occlusion cuff rapidly inflated supra-systolic blood pressure (e.g., 300 mmHg) transiently stop blood flow distal target muscle site. occlusion held brief period 5-seconds, deflated allow recovery proceed. sequence brief, repeated occlusions performed pre-specified tempo (e.g.¬†5-sec occlusion, 10-sec recovery) twenty repetitions (~5-minutes) muscle recovered back baseline.  Figure 2 McCully et al, 2024 [2]. () experimental setup progressive exercise test. NIRS device placed vastus lateralis using straps. blood pressure cuff placed proximally NIRS device. leg shown lifting weight. NIRS measurements, leg placed top padding horizontal position allow muscle relax measurements. occlusion oxygen delivery constrained assumed zero, rate deoxygenation ‚Äî slope rise deoxyhaeme (HHb/time; ŒºM/sec), decline oxygen saturation oxyhaeme ‚Äî interpreted represent rate local muscle oxygen uptake (mVÃáO2). Immediately exercise task metabolic demand high, mVÃáO2 elevated. decline exponential rate recovery proceeds back baseline. rate constant (k, min-1) monoexponential curve quantifies muscle OxCap value [3].  Figure 1 Adami et al, 2018 [3]. Muscle oxygen consumption (mVO2) recovery rate constant (k) near-infrared spectroscopy. B: example oxidative capacity test NIRS. : changes tissue saturation index (TSI) dynamic exercise (EX, gray area) subsequent intermittent arterial occlusions rest. B: mVO2 recovery kinetics derived rate change TSI intermittent arterial occlusions measured . mVO2 recovery data fit exponential (dashed line) estimate recovery k. C: summaries current reports mVO2 recovery rate constant (k), proportional oxidative capacity, upper lower limbs adults health disease. B: redrawn permission Elsevier (1). technique well studied recent years, validated 31P-MRS [4] mitochondrial content protein markers [5]. rate constant k shown proportionally higher (faster recovery) endurance-trained muscle, lower (slower) pathalogical diseased muscle [3].","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"a-call-for-standardised-processing-methods","dir":"Articles","previous_headings":"Introduction","what":"A call for standardised processing methods","title":"Analysing muscle oxidative capacity with {mnirs}","text":"Technical procedures analysis methods OxCap assessment converged toward standardisation recent years, methods showing good reliability reproducibility. Recently call implement standard analysis scripts robust slope detection non-linear modelling, minimise operator-related variability research centres, thereby improving interpretation outcomes across populations interventions [6,7]. wanted see well (poorly) current {mnirs} functionality process analyse repeated occlusion muscle OxCap data. future, process wrapped convenience functions make process easier end user. believe process already considerably simpler robust non-reproducible methods relying manual data cleaning, occlusion interval selection, curve fitting.","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"oxidative-capacity-analysis-in-mnirs","dir":"Articles","previous_headings":"","what":"Oxidative capacity analysis in {mnirs}","title":"Analysing muscle oxidative capacity with {mnirs}","text":"article serves vignette three analysis functions recently added {mnirs} package, can used together perform robust OxCap analysis. extract_intervals(): used detect specific events times mnirs data frame, extract interval around one, returning list data frames. useful certain event labelled event_channel, list time values provided manually events occur, start exercise interval occlusion. returned list data frames ready analysis. See ?extract_intervals details. peak_slope(): used find peak positive negative linear regression slope numeric vector return slope value, intercept, associated parameters. segment mNIRS signal steepest slope often interpreted represent point greatest mismatch O2 supply O2 demand, muscle OxCap testing. See ?peak_slope details. monoexponential(): specifies equation exponential function. Two self-starting functions available non-linear curve fitting; SS_monoexp4() fits 4-parameter monoexponential model, SS_monoexp3() fits reduced 3-parameter model without time delay parameter, monoexponential response expected instantaneous. Calling functions non-linear curve fitting functions (e.g.¬†nls()) return model coefficients three four parameters. See ?monoexponential ?SS_monoexp details. OxCap analysis, perform roughly 8 steps: Import example NIRS file repeated occlusions procedure. Pre-process/clean data, needed (minimal example). Iteratively correct NIRS values changes blood volume, required step ensure valid analysis. Specify occlusion events data extract 5-sec intervals occlusions. Find peak 3-sec linear regression NIRS slope within occlusion event. Model monoexponential curve fit across NIRS slope observations within repeated occlusion trials. Extract rate constant (k) trial exponential curve. Plot modelled data. aim perform analysis using {mnirs} package {tidyverse} functions, keeping script clean possible, janky manual adjustments necessary. First, load packages initial setup options. silence {mnirs} info messages set ggplot2 theme. Note received example file Dr.¬†Thomas Tripp, Postdoctoral fellow Dr.¬†Martin MacInnis‚Äô lab University Calgary. kindly allowed include file {mnirs} package users examine . can accessed calling example_mnirs(\"portamon-oxcap\"). article assume basic familiarity {mnirs} package. details demonstration data processing, please see package vignette Reading Cleaning Data {mnirs}.","code":"library(tidyverse) ## tidyverse packages for convenient data wrangling library(mnirs)  options(mnirs.verbose = FALSE) ## globally silence info/warning messages theme_set(theme_mnirs(legend.position = \"none\")) ## set ggplot2 theme for plotting"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"analysis-plan","dir":"Articles","previous_headings":"Oxidative capacity analysis in {mnirs}","what":"Analysis plan","title":"Analysing muscle oxidative capacity with {mnirs}","text":"OxCap analysis, perform roughly 8 steps: Import example NIRS file repeated occlusions procedure. Pre-process/clean data, needed (minimal example). Iteratively correct NIRS values changes blood volume, required step ensure valid analysis. Specify occlusion events data extract 5-sec intervals occlusions. Find peak 3-sec linear regression NIRS slope within occlusion event. Model monoexponential curve fit across NIRS slope observations within repeated occlusion trials. Extract rate constant (k) trial exponential curve. Plot modelled data. aim perform analysis using {mnirs} package {tidyverse} functions, keeping script clean possible, janky manual adjustments necessary.","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"setup","dir":"Articles","previous_headings":"Oxidative capacity analysis in {mnirs}","what":"Setup","title":"Analysing muscle oxidative capacity with {mnirs}","text":"First, load packages initial setup options. silence {mnirs} info messages set ggplot2 theme. Note received example file Dr.¬†Thomas Tripp, Postdoctoral fellow Dr.¬†Martin MacInnis‚Äô lab University Calgary. kindly allowed include file {mnirs} package users examine . can accessed calling example_mnirs(\"portamon-oxcap\"). article assume basic familiarity {mnirs} package. details demonstration data processing, please see package vignette Reading Cleaning Data {mnirs}.","code":"library(tidyverse) ## tidyverse packages for convenient data wrangling library(mnirs)  options(mnirs.verbose = FALSE) ## globally silence info/warning messages theme_set(theme_mnirs(legend.position = \"none\")) ## set ggplot2 theme for plotting"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"read-mnirs-data-file","dir":"Articles","previous_headings":"","what":"Read {mnirs} data file","title":"Analysing muscle oxidative capacity with {mnirs}","text":"included example file three NIRS channels column sample number, automatically converted time value read_mnirs() function recognises Artinis Oxysoft export format sample rate (10 Hz). file need cleaned outliers digitally filtered, minimal pre-processing required. One thing note: Artinis Oxysoft exports event label column without named header default. column use identify occlusion events label \"Occlusion\", need include . Currently {mnirs} unnamed column like named \"col_\" numeric suffix column number data file. example file, events column therefore \"col_6\". ‚Äôs elegant solution, works now! can separate two trials data set finding longer gap consecutive occlusion labels manually defining intervals trial 1, trial 2.  two exercise bouts repeated occlusion trials can clearly identified plotting raw data. resting occlusions also performed start file, ignore just model two repeated occlusion trials.","code":"df <- read_mnirs(     file_path = example_mnirs(\"portamon-oxcap.xlsx\"),     nirs_channels = c(thb = 2, hhb = 3, o2hb = 4), ## identify and rename NIRS channels     time_channel = c(sample = 1),     event_channel = c(event = \"col_6\") ## specify the unnamed events column )  ## view the structure of our data frame df #> # A tibble: 7,944 √ó 6 #>    sample  time event   thb   hhb  o2hb #>     <dbl> <dbl> <chr> <dbl> <dbl> <dbl> #>  1      0   0   <NA>   146.  63.0  82.9 #>  2      1   0.1 <NA>   146.  63.0  82.8 #>  3      2   0.2 <NA>   146.  63.0  82.8 #>  4      3   0.3 <NA>   146.  63.0  82.9 #>  5      4   0.4 <NA>   146.  63.0  82.7 #>  6      5   0.5 <NA>   146.  62.9  82.6 #>  7      6   0.6 <NA>   146.  62.9  82.7 #>  8      7   0.7 <NA>   146.  62.9  82.8 #>  9      8   0.8 <NA>   146.  62.9  82.7 #> 10      9   0.9 <NA>   146.  62.9  82.7 #> # ‚Ñπ 7,934 more rows  ## \"Occlusion\" is our pre-specified event string in our events column ## find each occlusion event, find where there is a longer gap ## the number of occlusions before this should be in the first trial df_occlusions <- df[grepl(\"Occlusion\", df$event), ] n_occlusions <- which(diff(df_occlusions$time) > 60)  plot(df)"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"correct-for-blood-volume","dir":"Articles","previous_headings":"","what":"Correct for blood volume","title":"Analysing muscle oxidative capacity with {mnirs}","text":"necessary processing step analysing OxCap trials apply correction NIRS channels changes blood volume repeated occlusions. step shown improve validity taking slopes oxy- deoxyhaeme channels [8]. preferred method iteratively correct instantaneous changes oxygenation samples, according Beever et al, 2020 [1].  results symmetrical distribution oxy- deoxyhaeme, sum total (total-haeme; THb) equal zero samples. can also plot occlusion event indicators (vertical dotted lines) confirm timing detect missed/extra events.","code":"df <- df |>     mutate(         ## blood volume correction factor beta, requires all positive values         beta = o2hb / (o2hb + hhb),         ## use {purrr} to iteratively adjust NIRS values from one sample to the next         ## corrected for change in blood volume by beta since the previous sample         o2hb = purrr::accumulate(2:n(), \\(prev, i) {             prev + (o2hb[i] - o2hb[i - 1]) - beta[i] * (thb[i] - thb[i - 1])             }, .init = 0         ),         hhb = purrr::accumulate(2:n(), \\(prev, i) {             prev + (hhb[i] - hhb[i - 1]) - (1 - beta[i]) * (thb[i] - thb[i - 1])             }, .init = 0         ),         ## thb corrected for changes in blood volume becomes equal to zero         thb = o2hb + hhb,     )  ## plot corrected data with occlusion event indicators plot(df) +     geom_vline(xintercept = df_occlusions$time, linetype = \"dotted\", alpha = 0.4)"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"extract-occlusion-intervals","dir":"Articles","previous_headings":"","what":"Extract occlusion intervals","title":"Analysing muscle oxidative capacity with {mnirs}","text":"next step identify occlusion events extract interval around , list data frames can continue analyse iteratively. data function takes data frame, applies processing channels specified, returns list processed data frames. mnirs metadata passed function. analysis, re-join returned list data frames combined data frame grouping variable labelled ‚Äúinterval‚Äù. nirs_channels, time_channel, event_channel, & sample_rate Specify column names data processed. nirs_channels response variables; time_channel time series variable; event_channel specifies look event labels; sample_rate specifies recording rate used ensemble-averaging across intervals unequal time samples. arguments specified, retrieved mnirs metadata. Channels data explicitly specified passed unprocessed returned data frames. analyse OxCap deoxyhaeme (HHb) NIRS signal, often recommended [6]. event_times, event_labels, & event_samples Interval events can specified combination time (values time_channel), labels (values event_channel), sample (row number). Multiple values can entered vectors. least one event must specified. , example data file, occlusions identified event label \"Occlusion\". makes simple detect string event column, extract intervals around . Detecting intervals event labels must match full string exactly. event labels inconsistent, specify regular expression (regex) string \"(?)occlusions?\" \"start|end\". span event detected, interval extracted time span specified two-element numeric vector; c(start, end), units time_channel. positive values represent times event, negative values represent times event. occlusion bouts held 5-seconds protocol. occlusion duration changed across protocol, might specify list time spans, rather single span case. visual investigation plots, able see first ~0.5 sec occlusion label, deoxyhaeme signal disrupted inflation cuff, might produce invalid slope values. specify time span c(1, 5), .e.¬†1 5 seconds \"Occlusion\" event label. wanted include interval event label, specify negative numeric value, e.g.¬†c(-2.5, 2.5) include 5-sec span centred label . group_events Multiple events can extracted analysis \"distinct\" intervals, \"ensemble\"-averaged together. Different groupings intervals can ensemble-averaged providing list numeric vectors specifying event intervals number ensemble-average return distinct; e.g.¬†list(c(1, 2), c(3, 4)). interval numbers need known ahead time always refer order occurrence data frame (.e., sorted time_channel). event intervals detected supplied number included distinct data frames. zero_time time values event interval can recalculated start zero event indicator. Time values ensemble-averaged intervals always re-calculated zero, since original time information lost ensembling. repeated occlusion testing, original time information occlusion interval critical subsequently model exponential recovery function, keep FALSE.  can plot sequence extracted occlusion intervals visually inspect data. expected, first interval repeated occlusion trial appears steepest, slope rapidly becoming less steep subsequent occlusion mVÃáO2 recovers. , want calculate slope values occlusion intervals.","code":"## identify and extract intervals by event label ## re-join the returned list of data frames with each occlusion interval labelled as \"interval\" df_list <- extract_intervals(     df,     nirs_channels = hhb,        ## only required to specify nirs_channels when ensemble-averaging     event_labels = \"Occlusion\", ## event label used in file, must match string exactly     span = c(1, 5),             ## occlusion interval c(start, end) with reference to the event time value     group_events = \"distinct\",  ## return each occlusion event separately     zero_time = FALSE           ## preserve original time values at each event ) |>     ## join back into a single grouped data frame, mostly for easier plotting below     purrr::list_rbind(names_to = \"interval\") |>     ## convert the \"interval\" column to a categorical factor     mutate(interval = factor(interval, levels = unique(interval))) |>     ## add `mnirs` metadata back to the combined data frame, for plotting     create_mnirs_data(         attributes(df)[c(             \"nirs_channels\",             \"time_channel\",             \"event_channel\",             \"sample_rate\"         )]     )  ## visualise facet plot with all occlusion intervals for error checking ## the steepest facets will be the first occlusions from the two trials plot(df_list) +     theme(         strip.text = element_blank(),         strip.background = element_blank(),         strip.placement = \"outside\",         axis.text.x = element_blank(),     ) +     facet_wrap(~interval, scales = \"free_x\", nrow = 4)"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"extract_intervals","dir":"Articles","previous_headings":"Extract occlusion intervals","what":"extract_intervals()","title":"Analysing muscle oxidative capacity with {mnirs}","text":"data function takes data frame, applies processing channels specified, returns list processed data frames. mnirs metadata passed function. analysis, re-join returned list data frames combined data frame grouping variable labelled ‚Äúinterval‚Äù. nirs_channels, time_channel, event_channel, & sample_rate Specify column names data processed. nirs_channels response variables; time_channel time series variable; event_channel specifies look event labels; sample_rate specifies recording rate used ensemble-averaging across intervals unequal time samples. arguments specified, retrieved mnirs metadata. Channels data explicitly specified passed unprocessed returned data frames. analyse OxCap deoxyhaeme (HHb) NIRS signal, often recommended [6]. event_times, event_labels, & event_samples Interval events can specified combination time (values time_channel), labels (values event_channel), sample (row number). Multiple values can entered vectors. least one event must specified. , example data file, occlusions identified event label \"Occlusion\". makes simple detect string event column, extract intervals around . Detecting intervals event labels must match full string exactly. event labels inconsistent, specify regular expression (regex) string \"(?)occlusions?\" \"start|end\". span event detected, interval extracted time span specified two-element numeric vector; c(start, end), units time_channel. positive values represent times event, negative values represent times event. occlusion bouts held 5-seconds protocol. occlusion duration changed across protocol, might specify list time spans, rather single span case. visual investigation plots, able see first ~0.5 sec occlusion label, deoxyhaeme signal disrupted inflation cuff, might produce invalid slope values. specify time span c(1, 5), .e.¬†1 5 seconds \"Occlusion\" event label. wanted include interval event label, specify negative numeric value, e.g.¬†c(-2.5, 2.5) include 5-sec span centred label . group_events Multiple events can extracted analysis \"distinct\" intervals, \"ensemble\"-averaged together. Different groupings intervals can ensemble-averaged providing list numeric vectors specifying event intervals number ensemble-average return distinct; e.g.¬†list(c(1, 2), c(3, 4)). interval numbers need known ahead time always refer order occurrence data frame (.e., sorted time_channel). event intervals detected supplied number included distinct data frames. zero_time time values event interval can recalculated start zero event indicator. Time values ensemble-averaged intervals always re-calculated zero, since original time information lost ensembling. repeated occlusion testing, original time information occlusion interval critical subsequently model exponential recovery function, keep FALSE.  can plot sequence extracted occlusion intervals visually inspect data. expected, first interval repeated occlusion trial appears steepest, slope rapidly becoming less steep subsequent occlusion mVÃáO2 recovers. , want calculate slope values occlusion intervals.","code":"## identify and extract intervals by event label ## re-join the returned list of data frames with each occlusion interval labelled as \"interval\" df_list <- extract_intervals(     df,     nirs_channels = hhb,        ## only required to specify nirs_channels when ensemble-averaging     event_labels = \"Occlusion\", ## event label used in file, must match string exactly     span = c(1, 5),             ## occlusion interval c(start, end) with reference to the event time value     group_events = \"distinct\",  ## return each occlusion event separately     zero_time = FALSE           ## preserve original time values at each event ) |>     ## join back into a single grouped data frame, mostly for easier plotting below     purrr::list_rbind(names_to = \"interval\") |>     ## convert the \"interval\" column to a categorical factor     mutate(interval = factor(interval, levels = unique(interval))) |>     ## add `mnirs` metadata back to the combined data frame, for plotting     create_mnirs_data(         attributes(df)[c(             \"nirs_channels\",             \"time_channel\",             \"event_channel\",             \"sample_rate\"         )]     )  ## visualise facet plot with all occlusion intervals for error checking ## the steepest facets will be the first occlusions from the two trials plot(df_list) +     theme(         strip.text = element_blank(),         strip.background = element_blank(),         strip.placement = \"outside\",         axis.text.x = element_blank(),     ) +     facet_wrap(~interval, scales = \"free_x\", nrow = 4)"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"calculate-occlusion-slopes","dir":"Articles","previous_headings":"","what":"Calculate occlusion slopes","title":"Analysing muscle oxidative capacity with {mnirs}","text":"x, t function takes vector numeric data (x) optional time values (t), processes response variable x find peak local linear regression slope predictor variable t (defaults sample number provided), returns list parameters linear regression model. width, span Linear regression performed within rolling local window specified one either width span. width defines number samples, whereas span defines range time units time_channel. occlusion protocol, peak 3-sec slope extracted 5-sec occlusion interval. align local rolling linear regression window can \"centre\"-aligned around target sample (idx), can \"left\"-aligned idx start window (forward-looking), \"right\"-aligned idx end window (backward-looking). direction default, peak positive (upward) negative (downward) slope returned depending overall trend direction response variable x. can overridden specifying either \"positive\" \"negative\". processing deoxyhaeme, specify peak slope occlusion positive, deoxygenation increases. partial default, local window return linear regression model samples within window valid. partial set TRUE, local windows return slope model long two valid samples. window fewer samples tend return steeper slope values, may may relevant interpretations. e.g., edge-case (literally edges data) noisy data set may two samples extreme local slope . usually want ignore outlier slope value.  Plotting returned slope values gives us nice indication exponential recovery response mVÃáO2 brief exercise task.","code":"## iteratively find peak local slopes within each occlusion interval ## return summary values for each factor level of \"interval\" grouping column slopes_df <- df_list |>     reframe(         .by = interval,         {             slope_params <- peak_slope(                 x = hhb, ## response variable: deoxyhaeme                 t = time, ## predictor variable: time in seconds                 span = 3, ## steepest 3 sec slope                 align = \"left\", ## forward-looking from index sample                 direction = \"positive\", ## upward slope for hhb                 partial = FALSE ## allow only complete 3-sec segments, no NAs             )             ## return time value (start time of 3-sec period) and slope value (ŒºM/sec)             data.frame(                 time = slope_params$t,                 slope = slope_params$slope             )         }     ) |>     mutate(         ## manual factor by occlusions in each trial         trial = factor(if_else(row_number() %in% seq_len(n_occlusions), 1L, 2L))     ) |>     mutate(         ## recalculate time as starting from zero for each trial         .by = trial,         time = time - time[1L],     ) |>     select(trial, time, slope)  ## create plot template p <- ggplot(slopes_df, aes(time, slope, colour = trial)) +     coord_cartesian(ylim = c(0, NA)) +     scale_x_continuous(         name = \"Time (mm:ss)\",         breaks = breaks_timespan(),         labels = format_hmmss     ) +     scale_y_continuous(expand = expansion(c(0, 0.03))) +     scale_colour_mnirs() +     labs(         y = expression(bold(HHb ~ Slope ~ '(ŒºM' %.% sec^'-1' * ')'))     )  ## plot observed slope values for each trial p +     geom_line() +     geom_point(fill = \"white\", size = 3, shape = 21, stroke = 1)"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"peak_slope","dir":"Articles","previous_headings":"Calculate occlusion slopes","what":"peak_slope()","title":"Analysing muscle oxidative capacity with {mnirs}","text":"x, t function takes vector numeric data (x) optional time values (t), processes response variable x find peak local linear regression slope predictor variable t (defaults sample number provided), returns list parameters linear regression model. width, span Linear regression performed within rolling local window specified one either width span. width defines number samples, whereas span defines range time units time_channel. occlusion protocol, peak 3-sec slope extracted 5-sec occlusion interval. align local rolling linear regression window can \"centre\"-aligned around target sample (idx), can \"left\"-aligned idx start window (forward-looking), \"right\"-aligned idx end window (backward-looking). direction default, peak positive (upward) negative (downward) slope returned depending overall trend direction response variable x. can overridden specifying either \"positive\" \"negative\". processing deoxyhaeme, specify peak slope occlusion positive, deoxygenation increases. partial default, local window return linear regression model samples within window valid. partial set TRUE, local windows return slope model long two valid samples. window fewer samples tend return steeper slope values, may may relevant interpretations. e.g., edge-case (literally edges data) noisy data set may two samples extreme local slope . usually want ignore outlier slope value.  Plotting returned slope values gives us nice indication exponential recovery response mVÃáO2 brief exercise task.","code":"## iteratively find peak local slopes within each occlusion interval ## return summary values for each factor level of \"interval\" grouping column slopes_df <- df_list |>     reframe(         .by = interval,         {             slope_params <- peak_slope(                 x = hhb, ## response variable: deoxyhaeme                 t = time, ## predictor variable: time in seconds                 span = 3, ## steepest 3 sec slope                 align = \"left\", ## forward-looking from index sample                 direction = \"positive\", ## upward slope for hhb                 partial = FALSE ## allow only complete 3-sec segments, no NAs             )             ## return time value (start time of 3-sec period) and slope value (ŒºM/sec)             data.frame(                 time = slope_params$t,                 slope = slope_params$slope             )         }     ) |>     mutate(         ## manual factor by occlusions in each trial         trial = factor(if_else(row_number() %in% seq_len(n_occlusions), 1L, 2L))     ) |>     mutate(         ## recalculate time as starting from zero for each trial         .by = trial,         time = time - time[1L],     ) |>     select(trial, time, slope)  ## create plot template p <- ggplot(slopes_df, aes(time, slope, colour = trial)) +     coord_cartesian(ylim = c(0, NA)) +     scale_x_continuous(         name = \"Time (mm:ss)\",         breaks = breaks_timespan(),         labels = format_hmmss     ) +     scale_y_continuous(expand = expansion(c(0, 0.03))) +     scale_colour_mnirs() +     labs(         y = expression(bold(HHb ~ Slope ~ '(ŒºM' %.% sec^'-1' * ')'))     )  ## plot observed slope values for each trial p +     geom_line() +     geom_point(fill = \"white\", size = 3, shape = 21, stroke = 1)"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"model-mvo2-recovery","dir":"Articles","previous_headings":"","what":"Model mVÃáO2 recovery","title":"Analysing muscle oxidative capacity with {mnirs}","text":"t function equation either 3- 4-parameter monoexponential function. takes predictor variable time (t) generates response variable (y) exponential curve characteristics determined four coefficients. , B starting (baseline) value ending (asymptote) value, respectively monoexponential curve. define either exponential association curve positive direction B > , exponential decay negative direction > B. tau time constant (ùúè) exponential function determines steepness initial slope curve. Tau approximated time required converge 63.2% amplitude B. rate constant (k) inverse time constant (k = 1 / tau) also commonly used NIRS research, including OxCap assessment. example report k units min-1. TD TD optional fourth parameter defines time lag start monoexponential behaviour. can capture behaviour respond instantaneously intervention delay transient acceleration phase exponential behaviour. Often repeated occlusions exercise, first occlusions may conform monoexponential behaviour, oxygen saturation low limiting mVÃáO2. cases, time delay parameter may required accurately capture true monoexponential response. example protocol designed avoid potential delay time delay parameter required. self-starting non-linear curve functions allow optimising monoexponential fit coefficients existing data, either 3- 4-parameter model using nls() another non-linear optimiser function. return model three four coefficients associated fit parameters. split data set times slopes trial, can use tidyr::nest() purrr::map() functions iteratively fit 3-parameter monoexponential model slope time, trial, return primary outcome coefficient; rate constant (k), calculated inverse time constant (tau).","code":"## use 3-param monoexponential model for each trial ## return fitted curve and time constant tau coefficient pred_df <- slopes_df |>     ## nest the data to model each trial     tidyr::nest(.by = trial) |>     mutate(         ## apply self-starting monoexp model to each trial         model = purrr::map(data, \\(.df) {             nls(slope ~ SS_monoexp3(time, A, B, tau), data = .df)         }),         ## return tau coefficient for each trial model         tau = purrr::map_dbl(model, \\(.m) coef(.m)[[\"tau\"]]),         ## return the predicted exponential curve values for plotting         data = purrr::map2(data, model, \\(.df, .m) {             mutate(.df, predicted_slope = predict(.m))         })     ) |>     select(trial, tau, data) |>     ## unnest back into the top level data frame for extraction and plotting     tidyr::unnest(data)  ## extract tau and k coef labels per trial, for plotting coef_df <- pred_df |>     summarise(         .by = trial,         label = stringr::str_glue(             \"Trial {trial[1]}             tau = {mnirs:::signif_trailing(tau[1], 1)} sec             k = {mnirs:::signif_trailing(60 / tau[1], 1)} min‚Åª¬π\"         )     ) ## add predicted values to the plot of observed data p +     geom_line(         data = pred_df,         aes(y = predicted_slope, group = trial),         colour = \"black\", linewidth = 1     ) +     geom_text(         data = coef_df,         aes(label = label, colour = trial, group = trial),         x = Inf, y = Inf,         size = 5, hjust = 1.1, vjust = c(1.5, 3)     ) +      geom_line() +     geom_point(fill = \"white\", size = 3, shape = 21, stroke = 1)"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"monoexponential","dir":"Articles","previous_headings":"Model mVÃáO2 recovery","what":"monoexponential()","title":"Analysing muscle oxidative capacity with {mnirs}","text":"t function equation either 3- 4-parameter monoexponential function. takes predictor variable time (t) generates response variable (y) exponential curve characteristics determined four coefficients. , B starting (baseline) value ending (asymptote) value, respectively monoexponential curve. define either exponential association curve positive direction B > , exponential decay negative direction > B. tau time constant (ùúè) exponential function determines steepness initial slope curve. Tau approximated time required converge 63.2% amplitude B. rate constant (k) inverse time constant (k = 1 / tau) also commonly used NIRS research, including OxCap assessment. example report k units min-1. TD TD optional fourth parameter defines time lag start monoexponential behaviour. can capture behaviour respond instantaneously intervention delay transient acceleration phase exponential behaviour. Often repeated occlusions exercise, first occlusions may conform monoexponential behaviour, oxygen saturation low limiting mVÃáO2. cases, time delay parameter may required accurately capture true monoexponential response. example protocol designed avoid potential delay time delay parameter required.","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"ss_monoexp3-ss_monoexp4","dir":"Articles","previous_headings":"Model mVÃáO2 recovery","what":"SS_monoexp3(), SS_monoexp4()","title":"Analysing muscle oxidative capacity with {mnirs}","text":"self-starting non-linear curve functions allow optimising monoexponential fit coefficients existing data, either 3- 4-parameter model using nls() another non-linear optimiser function. return model three four coefficients associated fit parameters. split data set times slopes trial, can use tidyr::nest() purrr::map() functions iteratively fit 3-parameter monoexponential model slope time, trial, return primary outcome coefficient; rate constant (k), calculated inverse time constant (tau).","code":"## use 3-param monoexponential model for each trial ## return fitted curve and time constant tau coefficient pred_df <- slopes_df |>     ## nest the data to model each trial     tidyr::nest(.by = trial) |>     mutate(         ## apply self-starting monoexp model to each trial         model = purrr::map(data, \\(.df) {             nls(slope ~ SS_monoexp3(time, A, B, tau), data = .df)         }),         ## return tau coefficient for each trial model         tau = purrr::map_dbl(model, \\(.m) coef(.m)[[\"tau\"]]),         ## return the predicted exponential curve values for plotting         data = purrr::map2(data, model, \\(.df, .m) {             mutate(.df, predicted_slope = predict(.m))         })     ) |>     select(trial, tau, data) |>     ## unnest back into the top level data frame for extraction and plotting     tidyr::unnest(data)  ## extract tau and k coef labels per trial, for plotting coef_df <- pred_df |>     summarise(         .by = trial,         label = stringr::str_glue(             \"Trial {trial[1]}             tau = {mnirs:::signif_trailing(tau[1], 1)} sec             k = {mnirs:::signif_trailing(60 / tau[1], 1)} min‚Åª¬π\"         )     ) ## add predicted values to the plot of observed data p +     geom_line(         data = pred_df,         aes(y = predicted_slope, group = trial),         colour = \"black\", linewidth = 1     ) +     geom_text(         data = coef_df,         aes(label = label, colour = trial, group = trial),         x = Inf, y = Inf,         size = 5, hjust = 1.1, vjust = c(1.5, 3)     ) +      geom_line() +     geom_point(fill = \"white\", size = 3, shape = 21, stroke = 1)"},{"path":"https://jemarnold.github.io/mnirs/articles/oxcap-analysis.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Analysing muscle oxidative capacity with {mnirs}","text":"article demonstrates muscle oxidative capacity analysis can performed using {mnirs} relatively simple, reproducible data wrangling steps. future development, like wrap processing steps dedicated functions recommended default parameters, make analysis process streamlined. However, also limitations current process: modelling monoexponential behaviour relatively data samples (17 occlusions per trial example) can result unstable fit parameters inability converge non-linear fitting . robust fitting process may required real-world data mVÃáO2 recovery perfectly conform monoexponential behaviour. , manual processing steps may inevitably required analysis accommodate computational limitations.","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Reading and Cleaning Data with {mnirs}","text":"modern wearable muscle near-infrared spectroscopy (mNIRS) devices growing ever easier collect local muscle oxygenation data dynamic activities. real challenge comes deciding clean, filter, process, eventually interpret data. mnirs package aims provide standardised, reproducible methods processing analysing NIRS data, helping practitioners detect meaningful signals noise improve confidence interpreting information applying information clients work . vignette demonstrate : üìÇ Read data files exported commercially available wearable NIRS devices, import NIRS channels standard data frame format metadata, ready processing. üìä Plot visualise data frames class \"mnirs\". üîç Retrieve metadata stored data frames class \"mnirs\" avoid repetitively specifying channels process. üßπ Detect replace local outliers, invalid values, interpolate across missing data. ‚è±Ô∏è Resample data higher lower sample rate, correct irregular sampling periods match frequency data sources. üìàÔ∏è Apply digital filtering optimise signal--noise ratio responses observed data. ‚öñÔ∏è Shift rescale across multiple NIRS channels, normalise signal dynamic range preserving absolute relative scaling muscle sites NIRS channels. üîÄ Demonstrate complete data wrangling process using pipe-friendly functions. Note mnirs currently . Functionality may change! Stay updated development follow releases github.com/jemarnold/mnirs. {mnirs} designed process NIRS data, can used read, clean, process time series datasets require many processing steps. Enjoy!","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"read-data-from-file","dir":"Articles","previous_headings":"","what":"üìÇ Read data from file","title":"Reading and Cleaning Data with {mnirs}","text":"read example data file two NIRS channels incremental ramp cycling assessment recorded Moxy muscle oxygen monitor. First, install load mnirs package required libraries. mnirs can installed remotes::install_github(\"jemarnold/mnirs\"). first function call almost always read_mnirs(). used read data .csv .xls(x) files exported common wearable NIRS devices. extract return data table metadata processing analysis. See read_mnirs() details. file_path Specify location data file, including file extension. e.g.¬†\"./my_file.xlsx\" \"C:/myfolder/my_file.csv\". Example data files example data files included mnirs package. File paths can accessed example_mnirs() nirs_channels least one NIRS channel name must specified data table file. Multiple channel names can entered vector. time_channel time sample channel name data table can specified. left blank, function attempt identify time column automatically, however best practice specify time_channel column explicitly. event_channel Optionally, channel can specified indicates events laps data table. channel names used detect data table within file, must match exactly text strings file row. can rename channels reading data specifying named character vector: sample_rate sample rate exported data file (Hz) can either specified explicitly, estimated time_channel. Automatic detection usually works well unless irregular sampling, time_channel count samples rather time value. example, Oxysoft exports sample number rather time values. specific case, function recognise read correct sample rate file metadata. However, cases sample_rate defined explicitly known. add_timestamp time_channel detected date-time format (e.g.; hh:mm:ss), default converted numeric time seconds. specified, option preserve seperate timestamp column date-time values. zero_time time_channel values start non-zero value, option re-calculate time starting zero. time_channel converted date-time format, always re-calculated zero regardless option. keep_all default, channels explicitly specified returned data frame. option return columns detected data table file. Blank/empty columns omitted duplicated invalid column names repaired. Columns checked confirm correct naming duplicates present. verbose many mnirs functions may return warnings informational messages useful troubleshooting data validation. option can used silence messages. mnirs messages can silenced globally session setting options(mnirs.verbose = FALSE).","code":"# remotes::install_github(\"jemarnold/mnirs\") ## install development version library(ggplot2) ## load for plotting library(mnirs) nirs_channels = c(new_name1 = \"original_name1\",                    new_name2 = \"original_name2\") ## {mnirs} includes sample files from a few NIRS devices example_mnirs() #> [1] \"artinis_intervals.xlsx\"  \"moxy_intervals.csv\"      #> [3] \"moxy_ramp.xlsx\"          \"portamon-oxcap.xlsx\"     #> [5] \"train.red_intervals.csv\" \"vo2master.csv\"  ## partial matching will error if matches multiple try(example_mnirs(\"moxy\")) #> Error in example_mnirs(\"moxy\") : ‚úñ Multiple files match \"moxy\": #> ‚Ñπ Matching files: \"moxy_intervals.csv\" and \"moxy_ramp.xlsx\"  ## call an example mNIRS data file file_path <- example_mnirs(\"moxy_ramp\")   data_table <- read_mnirs(     file_path,     nirs_channels = c(         smo2_right = \"SmO2 Live\",        ## identify and rename channels         smo2_left = \"SmO2 Live(2)\"     ),     time_channel = c(time = \"hh:mm:ss\"), ## date-time format will be converted to numeric     event_channel = NULL,                ## left blank, not currently used in analysis     sample_rate = NULL,                  ## if blank, sample_rate will be estimated from time_channel     add_timestamp = FALSE,               ## omit the date-time timestamp column     zero_time = TRUE,                    ## recalculate time values from zero     keep_all = FALSE,                    ## return only the specified data channels     verbose = TRUE                       ## show warnings & messages ) #> ! Estimated `sample_rate` = 2 Hz. #> ‚Ñπ Define `sample_rate` explicitly to override. #> Warning: ! Duplicate or irregular `time_channel` samples detected. #> ‚Ñπ Investigate at `time` = 211.99 and 1184. #> ‚Ñπ Re-sample with `mnirs::resample_mnirs()`.  ## Note the above info message that sample_rate was estimated correctly at 2 Hz ‚òù ## ignore the warnings about irregular sampling for now, we will resample later  data_table #> # A tibble: 2,203 √ó 3 #>     time smo2_right smo2_left #>    <dbl>      <dbl>     <dbl> #>  1 0             54        68 #>  2 0.400         54        68 #>  3 0.960         54        68 #>  4 1.51          54        66 #>  5 2.06          54        66 #>  6 2.61          54        66 #>  7 3.16          54        66 #>  8 3.71          57        67 #>  9 4.26          57        67 #> 10 4.81          57        67 #> # ‚Ñπ 2,193 more rows"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"read_mnirs","dir":"Articles","previous_headings":"","what":"read_mnirs()","title":"Reading and Cleaning Data with {mnirs}","text":"file_path Specify location data file, including file extension. e.g.¬†\"./my_file.xlsx\" \"C:/myfolder/my_file.csv\". Example data files example data files included mnirs package. File paths can accessed example_mnirs() nirs_channels least one NIRS channel name must specified data table file. Multiple channel names can entered vector. time_channel time sample channel name data table can specified. left blank, function attempt identify time column automatically, however best practice specify time_channel column explicitly. event_channel Optionally, channel can specified indicates events laps data table. channel names used detect data table within file, must match exactly text strings file row. can rename channels reading data specifying named character vector: sample_rate sample rate exported data file (Hz) can either specified explicitly, estimated time_channel. Automatic detection usually works well unless irregular sampling, time_channel count samples rather time value. example, Oxysoft exports sample number rather time values. specific case, function recognise read correct sample rate file metadata. However, cases sample_rate defined explicitly known. add_timestamp time_channel detected date-time format (e.g.; hh:mm:ss), default converted numeric time seconds. specified, option preserve seperate timestamp column date-time values. zero_time time_channel values start non-zero value, option re-calculate time starting zero. time_channel converted date-time format, always re-calculated zero regardless option. keep_all default, channels explicitly specified returned data frame. option return columns detected data table file. Blank/empty columns omitted duplicated invalid column names repaired. Columns checked confirm correct naming duplicates present. verbose many mnirs functions may return warnings informational messages useful troubleshooting data validation. option can used silence messages. mnirs messages can silenced globally session setting options(mnirs.verbose = FALSE).","code":"nirs_channels = c(new_name1 = \"original_name1\",                    new_name2 = \"original_name2\") ## {mnirs} includes sample files from a few NIRS devices example_mnirs() #> [1] \"artinis_intervals.xlsx\"  \"moxy_intervals.csv\"      #> [3] \"moxy_ramp.xlsx\"          \"portamon-oxcap.xlsx\"     #> [5] \"train.red_intervals.csv\" \"vo2master.csv\"  ## partial matching will error if matches multiple try(example_mnirs(\"moxy\")) #> Error in example_mnirs(\"moxy\") : ‚úñ Multiple files match \"moxy\": #> ‚Ñπ Matching files: \"moxy_intervals.csv\" and \"moxy_ramp.xlsx\"  ## call an example mNIRS data file file_path <- example_mnirs(\"moxy_ramp\")   data_table <- read_mnirs(     file_path,     nirs_channels = c(         smo2_right = \"SmO2 Live\",        ## identify and rename channels         smo2_left = \"SmO2 Live(2)\"     ),     time_channel = c(time = \"hh:mm:ss\"), ## date-time format will be converted to numeric     event_channel = NULL,                ## left blank, not currently used in analysis     sample_rate = NULL,                  ## if blank, sample_rate will be estimated from time_channel     add_timestamp = FALSE,               ## omit the date-time timestamp column     zero_time = TRUE,                    ## recalculate time values from zero     keep_all = FALSE,                    ## return only the specified data channels     verbose = TRUE                       ## show warnings & messages ) #> ! Estimated `sample_rate` = 2 Hz. #> ‚Ñπ Define `sample_rate` explicitly to override. #> Warning: ! Duplicate or irregular `time_channel` samples detected. #> ‚Ñπ Investigate at `time` = 211.99 and 1184. #> ‚Ñπ Re-sample with `mnirs::resample_mnirs()`.  ## Note the above info message that sample_rate was estimated correctly at 2 Hz ‚òù ## ignore the warnings about irregular sampling for now, we will resample later  data_table #> # A tibble: 2,203 √ó 3 #>     time smo2_right smo2_left #>    <dbl>      <dbl>     <dbl> #>  1 0             54        68 #>  2 0.400         54        68 #>  3 0.960         54        68 #>  4 1.51          54        66 #>  5 2.06          54        66 #>  6 2.61          54        66 #>  7 3.16          54        66 #>  8 3.71          57        67 #>  9 4.26          57        67 #> 10 4.81          57        67 #> # ‚Ñπ 2,193 more rows"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"plot-mnirs-data","dir":"Articles","previous_headings":"","what":"üìä Plot mnirs data","title":"Reading and Cleaning Data with {mnirs}","text":"mnirs data can easily viewed calling plot(). generic plot function uses ggplot2 work data frames generated read mnirs functions metadata contain class = *\"mnirs\"*.  mnirs includes custom *ggplot2* theme colour palette available theme_mnirs() palette_mnirs(). See documentation references details.","code":"## note the hidden plot option to display time values as `h:mm:ss` plot(data_table, label_time = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"metadata-stored-in-mnirs-data-frames","dir":"Articles","previous_headings":"","what":"üîç Metadata stored in mnirs data frames","title":"Reading and Cleaning Data with {mnirs}","text":"Data frames generated read mnirs functions return class = *\"mnirs\"* contain metadata, can retrieved attributes(data). Instead re-defining values like channel names sample rate, certain mnirs functions can automatically retrieve metadata. can always overwritten manually subsequent functions, using helper function create_mnirs_data(). See create_mnirs_data() details metadata.","code":"## view metadata (omitting item two, a list of row numbers) attributes(data_table)[-2] #> $class #> [1] \"mnirs\"      \"tbl_df\"     \"tbl\"        \"data.frame\" #>  #> $names #> [1] \"time\"       \"smo2_right\" \"smo2_left\"  #>  #> $nirs_device #> [1] \"Moxy\" #>  #> $nirs_channels #> [1] \"smo2_right\" \"smo2_left\"  #>  #> $time_channel #> [1] \"time\" #>  #> $sample_rate #> [1] 2"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"replace-local-outliers-invalid-values-and-missing-values","dir":"Articles","previous_headings":"","what":"üßπ Replace local outliers, invalid values, and missing values","title":"Reading and Cleaning Data with {mnirs}","text":"can see data issues plot , let‚Äôs clean single wrangling function replace_mnirs(), prepare data digital filtering smoothing. mnirs tries include basic functions work vector data, convenience wrappers combine functionality can used multiple channels data frame . Let‚Äôs explain functionality data-wide function, details vector-specific functions see replace_mnirs(). data Data-wide functions take data frame, apply processing channels specified, return processed data frame. mnirs metadata passed function.mnirs functions also pipe-friendly Base R 4.1+ (|>) magrittr (%>%) pipes chain operations together (see ). nirs_channels Specify column names data processed, .e.¬†response variables. specified, channels retrieved mnirs metadata. Channels data explicitly specified passed unprocessed returned data frame. time_channels time channel can specified, .e.¬†predictor variable, retrieved mnirs metadata. invalid_values, invalid_above, invalid_below Specific invalid values can replaced, e.g.¬†NIRS device exports 0, 100, fixed value signal recording error. spikes drops present data, can replaced specifying values consider invalid. left NULL, values replaced. outlier_cutoff Local outliers can detected using cutoff calculated local median value. default value 3 recommended (.e., ¬± 3 SD local median). left NULL, outliers replaced. width span Local outlier detection median interpolation use rolling local window specified one either width span. width defines number samples centred around local index evaluated (idx), whereas span defines range time units time_channel. method Missing data (NA), invalid values, local outliers specified can replaced via interpolation fill methods; either \"linear\" interpolation, fill local \"median\", \"locf\" (‚Äúlast observation carried forward‚Äù).NAs can passed returned data frame method = \"none\". However, subsequent processing & analysis steps may return errors NAs present. Therefore, good practice deal missing data early data processing. verbose , option toggle warnings info messages.  cleaned obvious data issues.","code":"data_cleaned <- replace_mnirs(     data_table,         ## channels will be retrieved from metadata     invalid_values = 0, ## known invalid values in the data     invalid_above = 90, ## remove data spikes     outlier_cutoff = 3, ## recommended default value     width = 10,         ## local window to detect local outliers and replace missing values     method = \"linear\",  ## linear interpolation over `NA`s     verbose = TRUE )  plot(data_cleaned, label_time = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"replace_mnirs","dir":"Articles","previous_headings":"","what":"replace_mnirs()","title":"Reading and Cleaning Data with {mnirs}","text":"data Data-wide functions take data frame, apply processing channels specified, return processed data frame. mnirs metadata passed function.mnirs functions also pipe-friendly Base R 4.1+ (|>) magrittr (%>%) pipes chain operations together (see ). nirs_channels Specify column names data processed, .e.¬†response variables. specified, channels retrieved mnirs metadata. Channels data explicitly specified passed unprocessed returned data frame. time_channels time channel can specified, .e.¬†predictor variable, retrieved mnirs metadata. invalid_values, invalid_above, invalid_below Specific invalid values can replaced, e.g.¬†NIRS device exports 0, 100, fixed value signal recording error. spikes drops present data, can replaced specifying values consider invalid. left NULL, values replaced. outlier_cutoff Local outliers can detected using cutoff calculated local median value. default value 3 recommended (.e., ¬± 3 SD local median). left NULL, outliers replaced. width span Local outlier detection median interpolation use rolling local window specified one either width span. width defines number samples centred around local index evaluated (idx), whereas span defines range time units time_channel. method Missing data (NA), invalid values, local outliers specified can replaced via interpolation fill methods; either \"linear\" interpolation, fill local \"median\", \"locf\" (‚Äúlast observation carried forward‚Äù).NAs can passed returned data frame method = \"none\". However, subsequent processing & analysis steps may return errors NAs present. Therefore, good practice deal missing data early data processing. verbose , option toggle warnings info messages.  cleaned obvious data issues.","code":"data_cleaned <- replace_mnirs(     data_table,         ## channels will be retrieved from metadata     invalid_values = 0, ## known invalid values in the data     invalid_above = 90, ## remove data spikes     outlier_cutoff = 3, ## recommended default value     width = 10,         ## local window to detect local outliers and replace missing values     method = \"linear\",  ## linear interpolation over `NA`s     verbose = TRUE )  plot(data_cleaned, label_time = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"resample-data","dir":"Articles","previous_headings":"","what":"‚è±Ô∏è Resample data","title":"Reading and Cleaning Data with {mnirs}","text":"Say NIRS data recorded 25 Hz, interested exercise responses time span 5-minutes, outcome measure heart rate data recorded 1 Hz anyway. may easier faster work NIRS data -sampled 25 1 Hz. Alternatively, something like high-frequency EMG data, may want -sample NIRS data match samples easier synchronisation analysis (although, cautious -sampling can artificially inflate statistical confidence subsequent analysis modelling methods). data function takes data frame, applies processing channels specified, returns processed data frame. mnirs metadata passed function. time_channel & sample_rate data contain mnirs metadata, channels detected automatically. can specified explicitly. resample_rate Resampling specified desired number samples per second (Hz). default resample_rate resample back existing sample_rate data. can useful accomodate irregular sampling unequal time values. Linear interpolation used resample time_channel round values sample_rate. Use resample_mnirs() smooth irregular skipped samples see warning read_mnirs() duplicated irregular samples like saw , can use resample_mnirs() restore time_channel regular sample rate interpolate across skipped samples.","code":"data_resampled <- resample_mnirs(     data_cleaned,      ## channels retrieved from metadata     resample_rate = 2, ## or leave blank as default `resample_rate = sample_rate`     method = \"linear\", ## linear interpolation across any new samples     verbose = TRUE     ## will confirm the output sample rate ) #> ‚Ñπ Output is resampled at 2 Hz.  ## note the altered \"time\" values from the original data frame üëá data_resampled #> # A tibble: 2,419 √ó 3 #>     time smo2_right smo2_left #>    <dbl>      <dbl>     <dbl> #>  1   0         54        68   #>  2   0.5       54        68   #>  3   1         54        67.9 #>  4   1.5       54        66.0 #>  5   2         54        66   #>  6   2.5       54        66   #>  7   3         54        66   #>  8   3.5       55.9      66.6 #>  9   4         57        67   #> 10   4.5       57        67   #> # ‚Ñπ 2,409 more rows"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"resample_mnirs","dir":"Articles","previous_headings":"","what":"resample_mnirs()","title":"Reading and Cleaning Data with {mnirs}","text":"data function takes data frame, applies processing channels specified, returns processed data frame. mnirs metadata passed function. time_channel & sample_rate data contain mnirs metadata, channels detected automatically. can specified explicitly. resample_rate Resampling specified desired number samples per second (Hz). default resample_rate resample back existing sample_rate data. can useful accomodate irregular sampling unequal time values. Linear interpolation used resample time_channel round values sample_rate. Use resample_mnirs() smooth irregular skipped samples see warning read_mnirs() duplicated irregular samples like saw , can use resample_mnirs() restore time_channel regular sample rate interpolate across skipped samples.","code":"data_resampled <- resample_mnirs(     data_cleaned,      ## channels retrieved from metadata     resample_rate = 2, ## or leave blank as default `resample_rate = sample_rate`     method = \"linear\", ## linear interpolation across any new samples     verbose = TRUE     ## will confirm the output sample rate ) #> ‚Ñπ Output is resampled at 2 Hz.  ## note the altered \"time\" values from the original data frame üëá data_resampled #> # A tibble: 2,419 √ó 3 #>     time smo2_right smo2_left #>    <dbl>      <dbl>     <dbl> #>  1   0         54        68   #>  2   0.5       54        68   #>  3   1         54        67.9 #>  4   1.5       54        66.0 #>  5   2         54        66   #>  6   2.5       54        66   #>  7   3         54        66   #>  8   3.5       55.9      66.6 #>  9   4         57        67   #> 10   4.5       57        67   #> # ‚Ñπ 2,409 more rows"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"digital-filtering","dir":"Articles","previous_headings":"","what":"üìà Digital filtering","title":"Reading and Cleaning Data with {mnirs}","text":"improve signal--noise ratio dataset without losing information, apply digital filtering smooth data. digital filtering methods available mnirs. option best depend large part sample rate data frequency response/phenomena observed. Choosing filter parameters important processing step improve signal--noise ratio enhance subsequent interpretations. -filtering data can introduce data artefacts can negatively influence signal analysis interpretations just much trying analyse overly-noisy raw data. perfectly valid choose digital filter iteratively testing filter parameters signal response interest appears visually optimised minimal data artefacts, satisfaction. discuss process choosing digital filter depth another vignette <currently development>. data function takes data frame, applies processing channels specified, returns processed data frame. mnirs metadata passed function. nirs_channels, time_channel, & sample_rate data contain mnirs metadata, channels detected automatically. can specified explicitly. na.rm important argument left FALSE default. function return error missing data (NA) detected response variables (nirs_channels). Setting na.rm = TRUE bypass NAs preserve returned data frame, must opted explicitly function elsewhere. method = \"smooth_spline\" default non-parametric cubic smoothing spline often good first filtering option exploring data, works well longer time spans. rapid repeated responses, smoothing-spline may work well. spar smoothing parameter cubic spline determined automatically default, can specified explicitly. See stats::smooth.spline() method = \"butterworth\" Butterworth low-pass digital filter (specified type = \"low\") probably common method used mNIRS research (whether appropriately ). certain applications identifying signal known frequency (e.g.¬†cycling/running cadence heart rate), pass-band different filter type may better suited. type filter type specified either c(\"low\", \"high\", \"stop\", \"pass\"). order filter order number, specifying number passes filter performs data. default order = 2 often noticably improve filter single pass, however higher orders ~4 can begin introduce artefacts, particularly sharp transition points. W fc cutoff frequency can specified either W; fraction ([0, 1]) Nyquist frequency, equal half sample_rate data. fc; cutoff frequency Hz, absolute frequency still 0 Hz Nyquist frequency. filtering vector data details Butterworth filter parameters, see filter_butter(). method = \"moving_average\" simplest smoothing method moving average filter applied specified number samples timespan. Commonly, might 5- 15-second centred moving average. width span Moving average filtering occurs within rolling local window specified one either width span. width defines number samples centred around local index evaluated (idx), whereas span defines range time units time_channel. filtering vector data details moving average filter, see filter_moving_average() Let‚Äôs try Butterworth low-pass filter, ‚Äôll specify empirically chosen filter parameters data. See filter_mnirs() details filtering methods respective parameters.  nice job reducing high-frequency noise data, preserving sharp edges, rapid reoxygenation maximal exercise.","code":"data_filtered <- filter_mnirs(     data_resampled,         ## channels retrieved from metadata     method = \"butterworth\", ## Butterworth digital filter is a common choice     type = \"low\",           ## specify a low-pass filter     order = 2,              ## filter order number     W = 0.02,               ## filter fractional critical frequency     na.rm = TRUE            ## explicitly preserve any NAs )  ## we will add the non-filtered data back to the plot to compare plot(data_filtered, label_time = TRUE) +     geom_line(         data = data_cleaned,          aes(y = smo2_left, colour = \"smo2_left\"), alpha = 0.4     ) +     geom_line(         data = data_cleaned,          aes(y = smo2_right, colour = \"smo2_right\"), alpha = 0.4     )"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"choosing-a-digital-filter","dir":"Articles","previous_headings":"","what":"Choosing a digital filter","title":"Reading and Cleaning Data with {mnirs}","text":"digital filtering methods available mnirs. option best depend large part sample rate data frequency response/phenomena observed. Choosing filter parameters important processing step improve signal--noise ratio enhance subsequent interpretations. -filtering data can introduce data artefacts can negatively influence signal analysis interpretations just much trying analyse overly-noisy raw data. perfectly valid choose digital filter iteratively testing filter parameters signal response interest appears visually optimised minimal data artefacts, satisfaction. discuss process choosing digital filter depth another vignette <currently development>.","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"filter_mnirs","dir":"Articles","previous_headings":"","what":"filter_mnirs()","title":"Reading and Cleaning Data with {mnirs}","text":"data function takes data frame, applies processing channels specified, returns processed data frame. mnirs metadata passed function. nirs_channels, time_channel, & sample_rate data contain mnirs metadata, channels detected automatically. can specified explicitly. na.rm important argument left FALSE default. function return error missing data (NA) detected response variables (nirs_channels). Setting na.rm = TRUE bypass NAs preserve returned data frame, must opted explicitly function elsewhere. method = \"smooth_spline\" default non-parametric cubic smoothing spline often good first filtering option exploring data, works well longer time spans. rapid repeated responses, smoothing-spline may work well. spar smoothing parameter cubic spline determined automatically default, can specified explicitly. See stats::smooth.spline() method = \"butterworth\" Butterworth low-pass digital filter (specified type = \"low\") probably common method used mNIRS research (whether appropriately ). certain applications identifying signal known frequency (e.g.¬†cycling/running cadence heart rate), pass-band different filter type may better suited. type filter type specified either c(\"low\", \"high\", \"stop\", \"pass\"). order filter order number, specifying number passes filter performs data. default order = 2 often noticably improve filter single pass, however higher orders ~4 can begin introduce artefacts, particularly sharp transition points. W fc cutoff frequency can specified either W; fraction ([0, 1]) Nyquist frequency, equal half sample_rate data. fc; cutoff frequency Hz, absolute frequency still 0 Hz Nyquist frequency. filtering vector data details Butterworth filter parameters, see filter_butter(). method = \"moving_average\" simplest smoothing method moving average filter applied specified number samples timespan. Commonly, might 5- 15-second centred moving average. width span Moving average filtering occurs within rolling local window specified one either width span. width defines number samples centred around local index evaluated (idx), whereas span defines range time units time_channel. filtering vector data details moving average filter, see filter_moving_average()","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"smoothing-spline","dir":"Articles","previous_headings":"üìà Digital filtering","what":"Smoothing-spline","title":"Reading and Cleaning Data with {mnirs}","text":"method = \"smooth_spline\" default non-parametric cubic smoothing spline often good first filtering option exploring data, works well longer time spans. rapid repeated responses, smoothing-spline may work well. spar smoothing parameter cubic spline determined automatically default, can specified explicitly. See stats::smooth.spline()","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"butterworth-digital-filter","dir":"Articles","previous_headings":"üìà Digital filtering","what":"Butterworth digital filter","title":"Reading and Cleaning Data with {mnirs}","text":"method = \"butterworth\" Butterworth low-pass digital filter (specified type = \"low\") probably common method used mNIRS research (whether appropriately ). certain applications identifying signal known frequency (e.g.¬†cycling/running cadence heart rate), pass-band different filter type may better suited. type filter type specified either c(\"low\", \"high\", \"stop\", \"pass\"). order filter order number, specifying number passes filter performs data. default order = 2 often noticably improve filter single pass, however higher orders ~4 can begin introduce artefacts, particularly sharp transition points. W fc cutoff frequency can specified either W; fraction ([0, 1]) Nyquist frequency, equal half sample_rate data. fc; cutoff frequency Hz, absolute frequency still 0 Hz Nyquist frequency. filtering vector data details Butterworth filter parameters, see filter_butter().","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"moving-average","dir":"Articles","previous_headings":"üìà Digital filtering","what":"Moving average","title":"Reading and Cleaning Data with {mnirs}","text":"method = \"moving_average\" simplest smoothing method moving average filter applied specified number samples timespan. Commonly, might 5- 15-second centred moving average. width span Moving average filtering occurs within rolling local window specified one either width span. width defines number samples centred around local index evaluated (idx), whereas span defines range time units time_channel. filtering vector data details moving average filter, see filter_moving_average()","code":""},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"apply-the-filter","dir":"Articles","previous_headings":"","what":"Apply the filter","title":"Reading and Cleaning Data with {mnirs}","text":"Let‚Äôs try Butterworth low-pass filter, ‚Äôll specify empirically chosen filter parameters data. See filter_mnirs() details filtering methods respective parameters.  nice job reducing high-frequency noise data, preserving sharp edges, rapid reoxygenation maximal exercise.","code":"data_filtered <- filter_mnirs(     data_resampled,         ## channels retrieved from metadata     method = \"butterworth\", ## Butterworth digital filter is a common choice     type = \"low\",           ## specify a low-pass filter     order = 2,              ## filter order number     W = 0.02,               ## filter fractional critical frequency     na.rm = TRUE            ## explicitly preserve any NAs )  ## we will add the non-filtered data back to the plot to compare plot(data_filtered, label_time = TRUE) +     geom_line(         data = data_cleaned,          aes(y = smo2_left, colour = \"smo2_left\"), alpha = 0.4     ) +     geom_line(         data = data_cleaned,          aes(y = smo2_right, colour = \"smo2_right\"), alpha = 0.4     )"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"shift-and-rescale-data","dir":"Articles","previous_headings":"","what":"‚öñÔ∏è Shift and rescale data","title":"Reading and Cleaning Data with {mnirs}","text":"NIRS values measured absolute scale (even, arguably percent (%) saturation). Therefore, may need adjust calibrate data normalise NIRS signal values muscle sites, individuals, trials, etc. depending intended comparison. example, may want set mean baseline value zero NIRS signals start recording. may want compare signal kinetics (rate change time course response) rescaling signal amplitudes common dynamic range. functions allow us either shift NIRS values preserving dynamic range (absolute amplitude minimum maximum values) NIRS channels, rescale data new dynamic range larger smaller amplitude. can group NIRS channels together preserve absolute relative scaling among certain channels, modify scaling groups channels. data function takes data frame, applies processing channels specified, returns processed data frame. mnirs metadata passed function. nirs_channels functions, channels grouped providing list (e.g.¬†list(c(, B), c(C))) group shifted common scale, separate scales groups. relative scaling channels preserved within group, lost groups.nirs_channels specified explicitly ensure intended grouping structure returned. default mnirs metadata group NIRS channels together. time_channel data contain mnirs metadata, channels detected automatically. can specified explicitly shift amplitude can specified either shifting signals new value, shifting signals fixed amplitude, given units NIRS signals. width span Shifting can performed mean value within window specified one either width span. width defines number samples centred around local index evaluated (idx), whereas span defines range time units time_channel. e.g.¬†width = 1 shift single minimum sample, whereas span = 1 shift minimum mean value samples within one second. position Specifies want shift data; either shifting ‚Äúmin‚Äù, ‚Äúmax‚Äù, ‚Äúfirst‚Äù sample(s). data set, want shift NIRS channel mean 2-minute baseline equal zero, give us change deoxygenation baseline incremental cycling protocol. tidyverse-style channel name specification good time note *mnirs* functions, data channels can specified using tidyverse-style naming; Data frame column names can specified either quotes character string (\"smo2\"), direct symbol (smo2). tidyselect support functions (e.g.¬†starts_with(), matches()) can also used.  shifting, minimum (end exercise) values smo2_left smo2_right similar, starting baseline values different. Whereas shift baseline values zero, can see smo2_right signal smaller deoxygenation amplitude compared smo2_left signal. consider assumptions processing decisions influence interpretations; shifting starting values, normalising starting condition two tissue sites implicitly assuming baseline represents starting condition legs. example, may appropriate interested relative change (delta) leg intervention exposure (often referred \"‚àáSmO2\"). may also want rescale data new dynamic range, changing units new amplitude. data function takes data frame, applies processing channels specified, returns processed data frame. mnirs metadata passed function. nirs_channels Channels grouped providing list (e.g.¬†list(c(, B), c(C))) group rescaled common range, separate ranges groups. relative scaling channels preserved within group, lost groups.nirs_channels specified explicitly ensure intended grouping structure returned. default mnirs metadata group NIRS channels together. range Specifies new dynamic range form c(min, max). example, want calibrate NIRS signal observed ‚Äòfunctional range‚Äô exercise, rescale 0-100%.  , assumption maximal exercise task, minimum maximum values represent functional capacity tissue volume observed. rescale functional dynamic range leg. normalising way, might lose meaningful differences captured different amplitudes smo2_left smo2_right, might interested trend time course response. interpretation may smo2_left appears start slightly higher percent ‚Äôs functional range, deoxygenates faster toward minimum, reaches pseudo-plateau near maximal exercise. smo2_right deoxygenates slightly slower continues deoxygenate maximal task tolerance. Additionally, right leg reoxygenates slightly faster left recovery. might, example, indicate exercise capacity differences limbs.","code":"data_shifted <- shift_mnirs(     data_filtered,     ## un-grouped nirs channels to shift separately      nirs_channels = list(smo2_left, smo2_right),      to = 0,            ## NIRS values will be shifted to zero     span = 120,        ## shift the first 120 sec of data to zero     position = \"first\" )  plot(data_shifted, label_time = TRUE) +     geom_hline(yintercept = 0, linetype = \"dotted\") data_rescaled <- rescale_mnirs(     data_filtered,    ## un-grouped nirs channels to rescale separately      nirs_channels = list(smo2_left, smo2_right),      range = c(0, 100) ## rescale to a 0-100% functional exercise range )  plot(data_rescaled, label_time = TRUE) +     geom_hline(yintercept = c(0, 100), linetype = \"dotted\")"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"shift_mnirs","dir":"Articles","previous_headings":"","what":"shift_mnirs()","title":"Reading and Cleaning Data with {mnirs}","text":"data function takes data frame, applies processing channels specified, returns processed data frame. mnirs metadata passed function. nirs_channels functions, channels grouped providing list (e.g.¬†list(c(, B), c(C))) group shifted common scale, separate scales groups. relative scaling channels preserved within group, lost groups.nirs_channels specified explicitly ensure intended grouping structure returned. default mnirs metadata group NIRS channels together. time_channel data contain mnirs metadata, channels detected automatically. can specified explicitly shift amplitude can specified either shifting signals new value, shifting signals fixed amplitude, given units NIRS signals. width span Shifting can performed mean value within window specified one either width span. width defines number samples centred around local index evaluated (idx), whereas span defines range time units time_channel. e.g.¬†width = 1 shift single minimum sample, whereas span = 1 shift minimum mean value samples within one second. position Specifies want shift data; either shifting ‚Äúmin‚Äù, ‚Äúmax‚Äù, ‚Äúfirst‚Äù sample(s). data set, want shift NIRS channel mean 2-minute baseline equal zero, give us change deoxygenation baseline incremental cycling protocol. tidyverse-style channel name specification good time note *mnirs* functions, data channels can specified using tidyverse-style naming; Data frame column names can specified either quotes character string (\"smo2\"), direct symbol (smo2). tidyselect support functions (e.g.¬†starts_with(), matches()) can also used.  shifting, minimum (end exercise) values smo2_left smo2_right similar, starting baseline values different. Whereas shift baseline values zero, can see smo2_right signal smaller deoxygenation amplitude compared smo2_left signal. consider assumptions processing decisions influence interpretations; shifting starting values, normalising starting condition two tissue sites implicitly assuming baseline represents starting condition legs. example, may appropriate interested relative change (delta) leg intervention exposure (often referred \"‚àáSmO2\").","code":"data_shifted <- shift_mnirs(     data_filtered,     ## un-grouped nirs channels to shift separately      nirs_channels = list(smo2_left, smo2_right),      to = 0,            ## NIRS values will be shifted to zero     span = 120,        ## shift the first 120 sec of data to zero     position = \"first\" )  plot(data_shifted, label_time = TRUE) +     geom_hline(yintercept = 0, linetype = \"dotted\")"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"rescale_mnirs","dir":"Articles","previous_headings":"","what":"rescale_mnirs()","title":"Reading and Cleaning Data with {mnirs}","text":"may also want rescale data new dynamic range, changing units new amplitude. data function takes data frame, applies processing channels specified, returns processed data frame. mnirs metadata passed function. nirs_channels Channels grouped providing list (e.g.¬†list(c(, B), c(C))) group rescaled common range, separate ranges groups. relative scaling channels preserved within group, lost groups.nirs_channels specified explicitly ensure intended grouping structure returned. default mnirs metadata group NIRS channels together. range Specifies new dynamic range form c(min, max). example, want calibrate NIRS signal observed ‚Äòfunctional range‚Äô exercise, rescale 0-100%.  , assumption maximal exercise task, minimum maximum values represent functional capacity tissue volume observed. rescale functional dynamic range leg. normalising way, might lose meaningful differences captured different amplitudes smo2_left smo2_right, might interested trend time course response. interpretation may smo2_left appears start slightly higher percent ‚Äôs functional range, deoxygenates faster toward minimum, reaches pseudo-plateau near maximal exercise. smo2_right deoxygenates slightly slower continues deoxygenate maximal task tolerance. Additionally, right leg reoxygenates slightly faster left recovery. might, example, indicate exercise capacity differences limbs.","code":"data_rescaled <- rescale_mnirs(     data_filtered,    ## un-grouped nirs channels to rescale separately      nirs_channels = list(smo2_left, smo2_right),      range = c(0, 100) ## rescale to a 0-100% functional exercise range )  plot(data_rescaled, label_time = TRUE) +     geom_hline(yintercept = c(0, 100), linetype = \"dotted\")"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"pipe-friendly-functions","dir":"Articles","previous_headings":"","what":"üîÄ Pipe-friendly functions","title":"Reading and Cleaning Data with {mnirs}","text":"mnirs functions can piped together using Base R 4.1+ (|>) magrittr (%>%). entire pre-processing stage can easily performed sequential pipe. demonstrate , ‚Äôll read different example file recorded Train.Red FYER muscle oxygen sensor pipe processing stage straight plot. also good time demonstrate use global mnirs.verbose argument silence warning & information messages, example dealing familiar dataset. recommend leaving verbose = TRUE default whenever reading exploring new file.","code":"options(mnirs.verbose = FALSE)  read_mnirs(     example_mnirs(\"train.red\"),     nirs_channels = c(         smo2_left = \"SmO2 unfiltered\",         smo2_right = \"SmO2 unfiltered\"     ),     time_channel = c(time = \"Timestamp (seconds passed)\"),     zero_time = TRUE ) |>     resample_mnirs() |> ## default will resample to fix irregular samples     replace_mnirs(         invalid_above = 73,         outlier_cutoff = 3,         span = 7     ) |>     filter_mnirs(         method = \"butterworth\",         order = 2,         W = 0.01,         na.rm = TRUE     ) |>     shift_mnirs(         nirs_channels = list(smo2_left, smo2_right),         to = 0,         span = 60,         position = \"first\"     ) |>     rescale_mnirs(         nirs_channels = list(c(smo2_left, smo2_right)), ## üëà channels grouped together         range = c(0, 100)     ) |>     plot(label_time = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/articles/reading-mnirs-data.html","id":"signal-processing","dir":"Articles","previous_headings":"","what":"‚úÖ Signal Processing","title":"Reading and Cleaning Data with {mnirs}","text":"NIRS signal cleaned filtered, ready processing analysis. mnirs developed include functionality processing discrete intervals events, e.g.¬†reoxygenation kinetics, slope calculations post-occlusion microvascular responsiveness, critical oxygenation breakpoints.","code":""},{"path":"https://jemarnold.github.io/mnirs/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jem Arnold. Author, maintainer, copyright holder.","code":""},{"path":"https://jemarnold.github.io/mnirs/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Arnold J (2026). mnirs: Muscle Near-Infrared Spectroscopy Processing Analysis. R package version 0.4.1, https://jemarnold.github.io/mnirs/.","code":"@Manual{,   title = {mnirs: Muscle Near-Infrared Spectroscopy Processing and Analysis},   author = {Jem Arnold},   year = {2026},   note = {R package version 0.4.1},   url = {https://jemarnold.github.io/mnirs/}, }"},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"muscle-near-infrared-spectroscopy-mnirs","dir":"","previous_headings":"","what":"Muscle Near-Infrared Spectroscopy Processing and Analysis","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"{mnirs} package reading, processing, analysing data muscle near-infrared spectroscopy (mNIRS) devices.","code":""},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"can install development version {mnirs} GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"jemarnold/mnirs\")"},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"<coming soon>","code":""},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"online-app","dir":"","previous_headings":"","what":"Online App","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"basic implementation package hosted https://jem-arnold.shinyapps.io/mnirs/ can currently used reading pre-processing mNIRS data.","code":""},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"detailed vignette common usage can found : Reading Cleaning Data {mnirs} {mnirs} currently experimental development functionality may change! Stay updated development follow releases github.com/jemarnold/mnirs. {mnirs} designed process NIRS data, can used read, clean, process time series datasets require many processing steps. Enjoy!","code":""},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"read_mnirs-read-data-from-file","dir":"","previous_headings":"Usage","what":"read_mnirs() Read data from file","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"","code":"# remotes::install_github(\"jemarnold/mnirs\") ## install development version library(ggplot2) ## load for plotting library(mnirs)  ## {mnirs} includes sample files from a few mNIRS devices example_mnirs() #> [1] \"artinis_intervals.xlsx\"  \"moxy_intervals.csv\"      #> [3] \"moxy_ramp.xlsx\"          \"portamon-oxcap.xlsx\"     #> [5] \"train.red_intervals.csv\" \"vo2master.csv\"  ## call an example mNIRS data file file_path <- example_mnirs(\"moxy_ramp\")   ## rename channels in the format `new_name1 = \"original_name1\"` ## where \"original_name1\" should match the file column name exactly data_table <- read_mnirs(     file_path,     nirs_channels = c(         smo2_right = \"SmO2 Live\",        ## identify and rename channels         smo2_left = \"SmO2 Live(2)\"     ),     time_channel = c(time = \"hh:mm:ss\"), ## date-time format will be converted to numeric     event_channel = NULL,                ## left blank, not currently used in analysis     sample_rate = NULL,                  ## if blank, sample_rate will be estimated from time_channel     add_timestamp = FALSE,               ## omit the date-time timestamp column     zero_time = TRUE,                    ## recalculate time values from zero     keep_all = FALSE,                    ## return only the specified data channels     verbose = TRUE                       ## show warnings & messages ) #> ! Estimated `sample_rate` = 2 Hz. #> ‚Ñπ Define `sample_rate` explicitly to override. #> Warning: ! Duplicate or irregular `time_channel` samples detected. #> ‚Ñπ Investigate at `time` = 211.99 and 1184. #> ‚Ñπ Re-sample with `mnirs::resample_mnirs()`.  ## Note the above info message that sample_rate was estimated correctly at 2 Hz ‚òù ## ignore the warnings about irregular sampling for now, we will resample later  data_table #> # A tibble: 2,203 √ó 3 #>     time smo2_right smo2_left #>    <dbl>      <dbl>     <dbl> #>  1 0             54        68 #>  2 0.400         54        68 #>  3 0.960         54        68 #>  4 1.51          54        66 #>  5 2.06          54        66 #>  6 2.61          54        66 #>  7 3.16          54        66 #>  8 3.71          57        67 #>  9 4.26          57        67 #> 10 4.81          57        67 #> # ‚Ñπ 2,193 more rows  ## note the hidden plot option to display time values as `h:mm:ss` plot(data_table, label_time = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"metadata-stored-in-mnirs-data-frames","dir":"","previous_headings":"Usage","what":"Metadata stored in mnirs data frames","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"","code":"## view metadata (omitting item two, a list of row numbers) attributes(data_table)[-2] #> $class #> [1] \"mnirs\"      \"tbl_df\"     \"tbl\"        \"data.frame\" #>  #> $names #> [1] \"time\"       \"smo2_right\" \"smo2_left\"  #>  #> $nirs_device #> [1] \"Moxy\" #>  #> $nirs_channels #> [1] \"smo2_right\" \"smo2_left\"  #>  #> $time_channel #> [1] \"time\" #>  #> $sample_rate #> [1] 2"},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"replace_mnirs-replace-local-outliers-invalid-values-and-missing-values","dir":"","previous_headings":"Usage","what":"replace_mnirs: Replace local outliers, invalid values, and missing values","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"","code":"data_cleaned <- replace_mnirs(     data_table,         ## channels will be retrieved from metadata     invalid_values = 0, ## known invalid values in the data     invalid_above = 90, ## remove data spikes     outlier_cutoff = 3, ## recommended default value     width = 10,         ## local window to detect local outliers and replace missing values     method = \"linear\",  ## linear interpolation over `NA`s     verbose = TRUE )  plot(data_cleaned, label_time = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"resample_mnirs-resample-data","dir":"","previous_headings":"Usage","what":"resample_mnirs(): Resample data","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"","code":"data_resampled <- resample_mnirs(     data_cleaned,      ## channels retrieved from metadata     resample_rate = 2, ## the default `resample_rate = sample_rate` will resample to sample_rate     method = \"linear\", ## linear interpolation across any new samples     verbose = TRUE     ## will confirm the output sample rate ) #> ‚Ñπ Output is resampled at 2 Hz.  ## note the altered \"time\" values from the original data frame üëá data_resampled #> # A tibble: 2,419 √ó 3 #>     time smo2_right smo2_left #>    <dbl>      <dbl>     <dbl> #>  1   0         54        68   #>  2   0.5       54        68   #>  3   1         54        67.9 #>  4   1.5       54        66.0 #>  5   2         54        66   #>  6   2.5       54        66   #>  7   3         54        66   #>  8   3.5       55.9      66.6 #>  9   4         57        67   #> 10   4.5       57        67   #> # ‚Ñπ 2,409 more rows"},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"filter_mnirs-digital-filtering","dir":"","previous_headings":"Usage","what":"filter_mnirs(): Digital filtering","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"","code":"data_filtered <- filter_mnirs(     data_resampled,         ## channels retrieved from metadata     method = \"butterworth\", ## Butterworth digital filter is a common choice     type = \"low\",           ## specify a low-pass filter     order = 2,              ## filter order number     W = 0.02,               ## filter fractional critical frequency     na.rm = TRUE            ## explicitly preserve any NAs )  ## we will add the non-filtered data back to the plot to compare plot(data_filtered, label_time = TRUE) +     geom_line(         data = data_cleaned,          aes(y = smo2_left, colour = \"smo2_left\"), alpha = 0.4     ) +     geom_line(         data = data_cleaned,          aes(y = smo2_right, colour = \"smo2_right\"), alpha = 0.4     )"},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"shift_mnirs--rescale_mnirs-shift-and-rescale-data","dir":"","previous_headings":"Usage","what":"shift_mnirs() & rescale_mnirs(): Shift and rescale data","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"","code":"data_shifted <- shift_mnirs(     data_filtered,     ## un-grouped nirs channels to shift separately      nirs_channels = list(smo2_left, smo2_right),      to = 0,            ## NIRS values will be shifted to zero     span = 120,        ## shift the first 120 sec of data to zero     position = \"first\" )  plot(data_shifted, label_time = TRUE) +     geom_hline(yintercept = 0, linetype = \"dotted\") data_rescaled <- rescale_mnirs(     data_filtered,    ## un-grouped nirs channels to rescale separately      nirs_channels = list(smo2_left, smo2_right),      range = c(0, 100) ## rescale to a 0-100% functional exercise range )  plot(data_rescaled, label_time = TRUE) +     geom_hline(yintercept = c(0, 100), linetype = \"dotted\")"},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"pipe-friendly-functions","dir":"","previous_headings":"Usage","what":"Pipe-friendly functions","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"","code":"## global option to silence info & warning messages options(mnirs.verbose = FALSE)  ## read, process, and plot an mNIRS file in one pipeline read_mnirs(     example_mnirs(\"train.red\"),     nirs_channels = c(         smo2_left = \"SmO2 unfiltered\",         smo2_right = \"SmO2 unfiltered\"     ),     time_channel = c(time = \"Timestamp (seconds passed)\"),     zero_time = TRUE ) |>     resample_mnirs() |> ## default will resample to fix irregular samples     replace_mnirs(         invalid_above = 73,         outlier_cutoff = 3,         span = 7     ) |>     filter_mnirs(         method = \"butterworth\",         order = 2,         W = 0.01,         na.rm = TRUE     ) |>     shift_mnirs(         nirs_channels = list(smo2_left, smo2_right),         to = 0,         span = 60,         position = \"first\"     ) |>     rescale_mnirs(         nirs_channels = list(c(smo2_left, smo2_right)), ## üëà channels grouped together         range = c(0, 100)     ) |>     plot(label_time = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"mnirs-device-compatibility","dir":"","previous_headings":"","what":"mNIRS device compatibility","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"package designed recognise mNIRS data exported .csv .xls(x) files. flexible use many different NIRS devices, compatibility improve continued development. Currently, tested successfully mNIRS data exported following devices apps: Artinis Oxysoft software (.csv .xlsx) Moxy direct export (.csv) PerfPro PC software (.xlsx) Train.Red app (.csv) VO2 Master Manager app (.xlsx)","code":""},{"path":"https://jemarnold.github.io/mnirs/index.html","id":"future-mnirs-development","dir":"","previous_headings":"","what":"Future {mnirs} development","title":"Muscle Near-Infrared Spectroscopy Processing and Analysis","text":"Discrete interval processing Process oxygenation kinetics Monoexponential & sigmoidal curve fitting non-parametric kinetics & slope analysis Critical oxygenation breakpoint analysis Generative codebots used assist code optimisation. code thoroughly reviewed, revised, validated package author.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/SS_monoexp.html","id":null,"dir":"Reference","previous_headings":"","what":"Self-starting monoexponential models ‚Äî SS_monoexp","title":"Self-starting monoexponential models ‚Äî SS_monoexp","text":"SS_monoexp3(): Creates initial coefficient estimates selfStart model 3-parameter monoexponential() function (, B, tau). SS_monoexp4() supports 4-parameter monoexponential() function (, B, tau, TD).","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/SS_monoexp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Self-starting monoexponential models ‚Äî SS_monoexp","text":"","code":"SS_monoexp3(t, A, B, tau)  SS_monoexp4(t, A, B, tau, TD)"},{"path":"https://jemarnold.github.io/mnirs/reference/SS_monoexp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Self-starting monoexponential models ‚Äî SS_monoexp","text":"t numeric vector predictor variable; time sample number. numeric parameter starting (baseline) value response variable. B numeric parameter ending (asymptote) value response variable. tau numeric parameter time constant tau (\\(\\tau\\)) exponential curve, units predictor variable t. TD numeric parameter time delay onset exponential response, units predictor variable t.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/SS_monoexp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Self-starting monoexponential models ‚Äî SS_monoexp","text":"SS_monoexp3() SS_monoexp4(): numeric vector predicted values length predictor variable t.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/SS_monoexp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Self-starting monoexponential models ‚Äî SS_monoexp","text":"3-parameter model: y ~ SS_monoexp3(t, , B, tau) 4-parameter model: y ~ SS_monoexp4(t, , B, tau, TD) 3-parameter model recommended small samples obvious time delay exists, converges reliably.","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/SS_monoexp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Self-starting monoexponential models ‚Äî SS_monoexp","text":"","code":"set.seed(13) t <- 1:60  ## create an exponential curve with random noise x <- monoexponential(t, A = 10, B = 100, tau = 8, TD = 15) + rnorm(length(t), 0, 3) data <- data.frame(t, x)  (model <- nls(x ~ SS_monoexp4(t, A, B, tau, TD), data = data)) #> Nonlinear regression model #>   model: x ~ SS_monoexp4(t, A, B, tau, TD) #>    data: data #>       A       B     tau      TD  #>  10.461 100.233   8.313  14.884  #>  residual sum-of-squares: 455.5 #>  #> Number of iterations to convergence: 5  #> Achieved convergence tolerance: 7.481e-07  y <- predict(model, data)  library(ggplot2) ggplot(data, aes(t, x)) +     theme_mnirs() +     geom_point() +     geom_line(aes(y = y))"},{"path":"https://jemarnold.github.io/mnirs/reference/abort_validation.html","id":null,"dir":"Reference","previous_headings":"","what":"validate_numeric abort message construction ‚Äî abort_validation","title":"validate_numeric abort message construction ‚Äî abort_validation","text":"validate_numeric abort message construction","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/abort_validation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"validate_numeric abort message construction ‚Äî abort_validation","text":"","code":"abort_validation(name, integer = FALSE, msg1 = \"\", msg2 = \".\")"},{"path":"https://jemarnold.github.io/mnirs/reference/artinis_intervals.xlsx.html","id":null,"dir":"Reference","previous_headings":"","what":"10 Hz Artinis Oxysoft export recorded with Oxymon MKIII ‚Äî artinis_intervals.xlsx","title":"10 Hz Artinis Oxysoft export recorded with Oxymon MKIII ‚Äî artinis_intervals.xlsx","text":"Exported Artinis Oxysoft, recorded Oxymon MKIII 50 Hz exported 10 Hz. Containing two 5-minute cycling work intervals ischaemic occlusion, placed vastus lateralis muscle site.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/artinis_intervals.xlsx.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"10 Hz Artinis Oxysoft export recorded with Oxymon MKIII ‚Äî artinis_intervals.xlsx","text":".xlsx file header metadata five columns 20919 rows. nirs_channels = c(O2Hb = 2, HHb = 3) time_channel = c(sample = 1) event_channel = c(event = 4, label = \"col_5\")","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/breaks_timespan.html","id":null,"dir":"Reference","previous_headings":"","what":"Breaks for timespan data ‚Äî breaks_timespan","title":"Breaks for timespan data ‚Äî breaks_timespan","text":"Pretty timespan breaks plotting units 5, 15, 30, 60 sec, etc. Modified scales::breaks_timespan().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/breaks_timespan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Breaks for timespan data ‚Äî breaks_timespan","text":"","code":"breaks_timespan(unit = c(\"secs\", \"mins\", \"hours\", \"days\", \"weeks\"), n = 5)"},{"path":"https://jemarnold.github.io/mnirs/reference/breaks_timespan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Breaks for timespan data ‚Äî breaks_timespan","text":"unit time unit used interpret numeric data input (defaults \"secs\"). n Desired number breaks. may get slightly fewer breaks requested.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/breaks_timespan.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Breaks for timespan data ‚Äî breaks_timespan","text":"Returns function generating breaks.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/breaks_timespan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Breaks for timespan data ‚Äî breaks_timespan","text":"","code":"x = 0:120 y = sin(2 * pi * x / 15) + rnorm(length(x), 0, 0.2)  library(ggplot2) data.frame(x, y) |>     ggplot(aes(x, y)) +     theme_mnirs() +     scale_x_continuous(breaks = breaks_timespan()) +     geom_line()"},{"path":"https://jemarnold.github.io/mnirs/reference/clean_invalid.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardise invalid to NA values and round numeric to avoid float precision error ‚Äî clean_invalid","title":"Standardise invalid to NA values and round numeric to avoid float precision error ‚Äî clean_invalid","text":"Standardise invalid NA values round numeric avoid float precision error","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/clean_invalid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardise invalid to NA values and round numeric to avoid float precision error ‚Äî clean_invalid","text":"","code":"clean_invalid(x)"},{"path":"https://jemarnold.github.io/mnirs/reference/compute_helpers.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes rolling local values ‚Äî compute_local_windows","title":"Computes rolling local values ‚Äî compute_local_windows","text":"compute_local_windows(): Compute list rolling window indices along time variable t. compute_local_fun(): Compute rolling function along x list rolling sample windows. compute_outliers(): Computes vector logicals indicating local outliers x within list rolling sample windows window_idx. compute_valid_neighbours(): Compute list rolling window indices along x either side NAs.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/compute_helpers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes rolling local values ‚Äî compute_local_windows","text":"","code":"compute_local_windows(   t,   idx = seq_along(t),   width = NULL,   span = NULL,   align = c(\"centre\", \"left\", \"right\") )  compute_local_fun(x, window_idx, fn, ...)  compute_outliers(x, window_idx, local_medians, outlier_cutoff)  compute_valid_neighbours(   x,   t = seq_along(x),   width = NULL,   span = NULL,   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/compute_helpers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes rolling local values ‚Äî compute_local_windows","text":"t optional numeric vector predictor variable; time sample number. Defaults indices t = seq_along(x). idx numeric vector indices t calculate local windows. indices t default, can used calculate known indicies, invalid values x. width integer defining local window number samples around idx perform operation, according align. span numeric value defining local window timespan around idx perform operation, according align. units time_channel t. align Window alignment \"centre\"/\"center\" (default), \"left\", \"right\". \"left\" forward looking, \"right\" backward looking current sample. x numeric vector response variable. window_idx list shorter length x numeric vectors sample indices local rolling windows. fn function pass local rolling calculation. ... Additional arguments. local_medians numeric vector length x local median values. outlier_cutoff integer local outlier threshold, number standard deviations local median. default outlier_cutoff = NULL replace outliers. outlier_cutoff = 3 standard replacement threshold following Pearson's rule. verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/compute_helpers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes rolling local values ‚Äî compute_local_windows","text":"compute_local_windows(): list length idx shorter length t numeric vectors sample indices length width samples span units time t. compute_local_fun(): numeric vector length x. compute_outliers(): logical vector length x. compute_valid_neighbours(): list length NA values x numeric vectors sample indices length width samples span units time t valid values neighbouring split either side invalid NAs.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/compute_helpers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Computes rolling local values ‚Äî compute_local_windows","text":"local rolling window can specified either width number samples, span timespan units t. Specifying width often faster span. align defaults \"centre\" local window around idx [idx - floor((width-1)/2), idx + floor(width/2)] width specified. Even width values bias align \"left\", unequal sample forward idx, effectively returning NA last sample index. span specified, local window [t - span/2, t + span/2].","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/convert_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardise comma decimals to periods in character columns ‚Äî convert_type","title":"Standardise comma decimals to periods in character columns ‚Äî convert_type","text":"Standardise comma decimals periods character columns","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/convert_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardise comma decimals to periods in character columns ‚Äî convert_type","text":"","code":"convert_type(data, time_channel)"},{"path":"https://jemarnold.github.io/mnirs/reference/create_mnirs_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an mnirs data frame with metadata ‚Äî create_mnirs_data","title":"Create an mnirs data frame with metadata ‚Äî create_mnirs_data","text":"Manually add class \"mnirs\" metadata existing data frame.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/create_mnirs_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an mnirs data frame with metadata ‚Äî create_mnirs_data","text":"","code":"create_mnirs_data(data, ...)"},{"path":"https://jemarnold.github.io/mnirs/reference/create_mnirs_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an mnirs data frame with metadata ‚Äî create_mnirs_data","text":"data data frame existing metadata (attributes(data)). ... Additional arguments metadata add data frame. Can either seperate named arguments list named values. nirs_device nirs_channels time_channel event_channel sample_rate","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/create_mnirs_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an mnirs data frame with metadata ‚Äî create_mnirs_data","text":"tibble class \"mnirs\" metadata available attributes().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/create_mnirs_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create an mnirs data frame with metadata ‚Äî create_mnirs_data","text":"Typically called internally, can used inject mnirs metadata data frame.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/create_mnirs_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an mnirs data frame with metadata ‚Äî create_mnirs_data","text":"","code":"df <- data.frame(     A = 1:3,     B = seq(10, 30, 10),     C = seq(11, 33, 11) )  attributes(df) #> $names #> [1] \"A\" \"B\" \"C\" #>  #> $class #> [1] \"data.frame\" #>  #> $row.names #> [1] 1 2 3 #>   ## inject metadata nirs_data <- create_mnirs_data(     df,     nirs_channels = c(\"B\", \"C\"),     time_channel = \"A\",     sample_rate = 1 )  attributes(nirs_data) #> $class #> [1] \"mnirs\"      \"tbl_df\"     \"tbl\"        \"data.frame\" #>  #> $row.names #> [1] 1 2 3 #>  #> $names #> [1] \"A\" \"B\" \"C\" #>  #> $nirs_channels #> [1] \"B\" \"C\" #>  #> $time_channel #> [1] \"A\" #>  #> $sample_rate #> [1] 1 #>"},{"path":"https://jemarnold.github.io/mnirs/reference/detect_events.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect event indices ‚Äî detect_events","title":"Detect event indices ‚Äî detect_events","text":"Detect event indices","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/detect_events.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect event indices ‚Äî detect_events","text":"","code":"detect_events(   time_vec,   event_vec,   event_times,   event_labels,   event_samples,   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/detect_irregular_samples.html","id":null,"dir":"Reference","previous_headings":"","what":"Report warnings for unbalanced time_channel samples ‚Äî detect_irregular_samples","title":"Report warnings for unbalanced time_channel samples ‚Äî detect_irregular_samples","text":"Report warnings unbalanced time_channel samples","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/detect_irregular_samples.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Report warnings for unbalanced time_channel samples ‚Äî detect_irregular_samples","text":"","code":"detect_irregular_samples(x, time_channel, verbose = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/reference/detect_mnirs_device.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect mnirs device from file metadata ‚Äî detect_mnirs_device","title":"Detect mnirs device from file metadata ‚Äî detect_mnirs_device","text":"Detect mnirs device file metadata","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/detect_mnirs_device.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect mnirs device from file metadata ‚Äî detect_mnirs_device","text":"","code":"detect_mnirs_device(data)"},{"path":"https://jemarnold.github.io/mnirs/reference/detect_time_channel.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect time_channel from header row ‚Äî detect_time_channel","title":"Detect time_channel from header row ‚Äî detect_time_channel","text":"Detect time_channel header row","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/detect_time_channel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect time_channel from header row ‚Äî detect_time_channel","text":"","code":"detect_time_channel(   data,   time_channel = NULL,   nirs_device = NULL,   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/ensemble_intervals.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensemble average multiple intervals ‚Äî ensemble_intervals","title":"Ensemble average multiple intervals ‚Äî ensemble_intervals","text":"Ensemble average multiple intervals","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/ensemble_intervals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensemble average multiple intervals ‚Äî ensemble_intervals","text":"","code":"ensemble_intervals(interval_list, nirs_channels, metadata, verbose = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/reference/example_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get path to mnirs example files ‚Äî example_mnirs","title":"Get path to mnirs example files ‚Äî example_mnirs","text":"Get path mnirs example files","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/example_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get path to mnirs example files ‚Äî example_mnirs","text":"","code":"example_mnirs(file = NULL)"},{"path":"https://jemarnold.github.io/mnirs/reference/example_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get path to mnirs example files ‚Äî example_mnirs","text":"file Name file character string. NULL, returns vector available file names.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/example_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get path to mnirs example files ‚Äî example_mnirs","text":"file path character string selected example files stored package.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/example_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get path to mnirs example files ‚Äî example_mnirs","text":"","code":"## lists all files example_mnirs() #> [1] \"artinis_intervals.xlsx\"  \"moxy_intervals.csv\"      #> [3] \"moxy_ramp.xlsx\"          \"portamon-oxcap.xlsx\"     #> [5] \"train.red_intervals.csv\" \"vo2master.csv\"            ## partial matching will error if matches multiple try(example_mnirs(\"moxy\")) #> Error in example_mnirs(\"moxy\") :  #>   ‚úñ Multiple files match \"moxy\": #> ‚Ñπ Matching files: \"moxy_intervals.csv\" and \"moxy_ramp.xlsx\"  example_mnirs(\"moxy_ramp\") #> [1] \"/home/runner/work/_temp/Library/mnirs/extdata/moxy_ramp.xlsx\""},{"path":"https://jemarnold.github.io/mnirs/reference/extract_interval_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract interval data by index ‚Äî extract_interval_list","title":"Extract interval data by index ‚Äî extract_interval_list","text":"Extract interval data index","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/extract_interval_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract interval data by index ‚Äî extract_interval_list","text":"","code":"extract_interval_list(data, interval_spec, nirs_channels)"},{"path":"https://jemarnold.github.io/mnirs/reference/extract_intervals.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract intervals from mnirs data ‚Äî extract_intervals","title":"Extract intervals from mnirs data ‚Äî extract_intervals","text":"Detects extracts intervals around specified events time series data analysis.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/extract_intervals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract intervals from mnirs data ‚Äî extract_intervals","text":"","code":"extract_intervals(   data,   nirs_channels = list(NULL),   time_channel = NULL,   event_channel = NULL,   sample_rate = NULL,   event_times = NULL,   event_labels = NULL,   event_samples = NULL,   span = list(c(-30, 180)),   group_events = list(\"distinct\", \"ensemble\"),   zero_time = FALSE,   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/extract_intervals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract intervals from mnirs data ‚Äî extract_intervals","text":"data data frame class \"mnirs\" containing time series data metadata. nirs_channels list() character vectors indicating mNIRS channel names operate within interval (see Details). Must match column names data exactly. Retrieved metadata defined explicitly. time_channel character string indicating time sample channel name. Must match column names data exactly. Retrieved metadata defined explicitly. event_channel optional character string indicating event lap channel name. Required event_labels specified. Must match column names data exactly. Retrieved metadata defined explicitly. sample_rate optional numeric value exported sample rate Hz. defined explicitly, estimated data (see Details). event_times numeric vector time_channel values indicating event starts (see Details). event_labels character vector strings match event_channel, indicating event starts. event_samples integer vector sample indices (row numbers) indicating event starts. span list() two-element numeric vectors specifying interval around event c(, ), units time_channel (see Details). group_events Either character string list() numeric vectors specifying group intervals. Interval numbers sorted order appearance within data. \"distinct\" extract interval independent data frame (default). \"ensemble\" perform ensemble-averaging across detected intervals nirs_channel, return single data frame. list(c(1, 2), c(3, 4)) perform ensemble-averaging across intervals within group return data frame group. zero_time logical re-calculate time_channel zero preserve original time_channel values (FALSE, default). verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/extract_intervals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract intervals from mnirs data ‚Äî extract_intervals","text":"named list() tibbles class \"mnirs\" metadata available attributes().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/extract_intervals.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract intervals from mnirs data ‚Äî extract_intervals","text":"nirs_channels = list() can used specify unique data channels (column names) operate within intervals, according group_events (see ). Channels can specified seperate list items (e.g. list(c(\"\", \"B\", \"C\"), \"B\", c(\"\", \"C\"))) include exclude specific intervals. way, bad data channels single interval can excluded contaminating ensemble-averaging. event_* arguments can used identify intervals interest data, can specified three ways (methods can combined): event_times Numeric time values units time_channel. event_samples Integer sample indices (row numbers). event_labels Character patterns match event_channel, case-sensitive must match exactly. Every unique event detected data extracted according span interval window around (see ). Events can specified order. detected intervals extracted returned order appear. span = list() accept two-element numeric vectors indicating interval time window around detected event, units time_channel, e.g. seconds. span = c(, ) typically negative value, extending interval window target event, positive value, extending interval window target event, resulting interval window [event - span[1], event + span[2]]. However, span accept positive negative values reference target event, long range contained within bounds available data. Example three intervals: event_times = list(60, 120, 300)  span = list(c(-30, 30), c(30, 90), c(-60, 0)) Interval 1 range 30 90 seconds. Interval 2 range 150 210 seconds. Interval 3 range 240 300 seconds. group_events = list() can used specify grouping structure intervals return either discrete ensemble-averaged intervals. \"distinct\" extract interval independent data frame. \"ensemble\" perform ensemble-averaging across detected intervals nirs_channel, return single data frame. list(c(1, 2), c(3, 4)) perform ensemble-averaging across intervals within group return data frame group. interval numbers omitted group_events extracted distinct data frame. Interval numbers beyond number detected intervals ignored. group_events accept named list pass names list returned data frames <development>, e.g. group_events = list(low = c(1, 2), high = c(3, 4))  Otherwise, default names returned \"interval_1\", \"interval_2\", etc. distinct intervals; \"ensemble\" ensemble-averaging across intervals; \"group_1_2\" etc. custom grouping structure. List items single vector (e.g. nirs_channels = list(c(\"\", \"B\")) span = c(-30, 30)) recycled forward intervals. number intervals detected exceeds number list items, last specified list item recycled forward additional intervals. List items beyond number detected intervals ignored. zero_time = TRUE re-calculate numeric time_channel values start zero target event, interval. Ensemble- averaged interval times always zeroed. Effectively, works best event marker indicates start interval. can return unexpected time values event marker included interval range (e.g. span = c(30, 60)).","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/extract_intervals.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract intervals from mnirs data ‚Äî extract_intervals","text":"","code":"options(mnirs.verbose = FALSE)  ## read example data data <- read_mnirs(     example_mnirs(\"train.red\"),     nirs_channels = c(         smo2_left = \"SmO2 unfiltered\",         smo2_right = \"SmO2 unfiltered\"     ),     time_channel = c(time = \"Timestamp (seconds passed)\"),     zero_time = TRUE ) |>     resample_mnirs() ## avoid issues ensemble-averaging irregular samples  ## extract intervals as a list of data frames extract_intervals(     data,     nirs_channels = list(c(smo2_left, smo2_right)),     event_times = c(368, 1093), ## specify interval events     span = list(c(-20, 90)), ## specify the event start-end timespans     group_events = \"distinct\", ## return all unique intervals     zero_time = TRUE ## start time from zero ) #> $interval_1 #> # A tibble: 1,101 √ó 3 #>     time smo2_left smo2_right #>    <dbl>     <dbl>      <dbl> #>  1 -20        55.6       60.9 #>  2 -19.9      55.8       60.7 #>  3 -19.8      56.1       60.6 #>  4 -19.7      56.3       60.4 #>  5 -19.6      56.6       60.3 #>  6 -19.5      56.8       60.1 #>  7 -19.4      56.6       60.1 #>  8 -19.3      56.9       59.8 #>  9 -19.2      56.7       60.1 #> 10 -19.1      56.2       59.8 #> # ‚Ñπ 1,091 more rows #>  #> $interval_2 #> # A tibble: 1,101 √ó 3 #>     time smo2_left smo2_right #>    <dbl>     <dbl>      <dbl> #>  1 -20        56.2       57.2 #>  2 -19.9      55.7       57.4 #>  3 -19.8      55.3       57.0 #>  4 -19.7      55.3       58.6 #>  5 -19.6      55.3       58.8 #>  6 -19.5      55.3       57.9 #>  7 -19.4      55.3       59.1 #>  8 -19.3      55.3       59.0 #>  9 -19.2      55.3       57.6 #> 10 -19.1      55.7       57.4 #> # ‚Ñπ 1,091 more rows #>   ## ensemble-average across multiple intervals interval_list <- extract_intervals(     data,     nirs_channels = list(c(smo2_left, smo2_right)),     event_times = c(368, 1093),     span = list(c(-20, 90)),     group_events = \"ensemble\", ## return ensemble-averaged intervals     zero_time = TRUE )  library(ggplot2) plot(interval_list[[1L]], label_time = TRUE) +     geom_vline(xintercept = 0, linetype = \"dotted\")"},{"path":"https://jemarnold.github.io/mnirs/reference/extract_oxysoft_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Oxysoft sample rate ‚Äî extract_oxysoft_rate","title":"Extract Oxysoft sample rate ‚Äî extract_oxysoft_rate","text":"Extract Oxysoft sample rate","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/extract_oxysoft_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Oxysoft sample rate ‚Äî extract_oxysoft_rate","text":"","code":"extract_oxysoft_rate(file_header, sample_rate = NULL)"},{"path":"https://jemarnold.github.io/mnirs/reference/filter_butter.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a Butterworth digital filter ‚Äî filter_butter","title":"Apply a Butterworth digital filter ‚Äî filter_butter","text":"Apply Butterworth digital filter vector data signal::butter() signal::filtfilt() handles 'edges' better start end data.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_butter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a Butterworth digital filter ‚Äî filter_butter","text":"","code":"filter_butter(   x,   order = 1,   W,   type = c(\"low\", \"high\", \"stop\", \"pass\"),   edges = c(\"rev\", \"rep1\", \"none\"),   na.rm = FALSE )"},{"path":"https://jemarnold.github.io/mnirs/reference/filter_butter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a Butterworth digital filter ‚Äî filter_butter","text":"x numeric vector. order integer defining filter order method = \"butterworth\" (default order = 2). W one- two-element numeric vector defining filter cutoff frequency(ies) method = \"butterworth\", fraction Nyquist frequency (see Details). type character string indicating digital filter type method = \"butterworth\" (see Details). \"low\" low-pass filter (default). \"high\" high-pass filter. \"stop\" stop-band (band-reject) filter. \"pass\" pass-band filter. edges character string indicating pad x edge detection. \"rev\" (default) pad x preceding 5% data reverse sequence. \"rep1\" pad x repeating last preceding value. \"none\" return unpadded signal::filtfilt() output. na.rm logical indicating whether missing values preserved passed filter (TRUE). Otherwise FALSE (default) throw error NAs (see Details).","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_butter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply a Butterworth digital filter ‚Äî filter_butter","text":"numeric vector length x.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_butter.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Apply a Butterworth digital filter ‚Äî filter_butter","text":"Applies centred (two-pass symmetrical) Butterworth digital filter signal::butter() signal::filtfilt(). Filter type defines desired signal frequencies either passed rejected output signal. Low-pass high-pass filters allow frequencies lower higher cutoff frequency W passed output signal, respectively. Stop-band defines critical range frequencies rejected output signal. Pass-band defines critical range frequencies passed output signal. filter order (number passes) defined order, typically range order = [1, 10]. Higher filter order tends capture rapid changes amplitude, also causes distortion around change points signal. General advice use lowest filter order sufficiently captures desired rapid responses data. critical (cutoff) frequency defined W, numeric value low-pass high-pass filters, two-element vector c(low, high) defining lower upper bands stop-band pass-band filters. W represents desired fractional cutoff frequency range W = [0, 1], 1 Nyquist frequency, .e., half sample rate data Hz. Missing values (NA) x cause error unless na.rm = TRUE. NAs preserved passed returned vector.","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/filter_butter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply a Butterworth digital filter ‚Äî filter_butter","text":"","code":"library(ggplot2)  set.seed(13) sin <- sin(2 * pi * 1:150 / 50) * 20 + 40 noise <- rnorm(150, mean = 0, sd = 6) noisy_sin <- sin + noise filt_without_edge <- filter_butter(x = noisy_sin, order = 2, W = 0.1, edges = \"none\") filt_with_edge <- filter_butter(x = noisy_sin, order = 2, W = 0.1, edges = \"rep1\")  ggplot(data.frame(), aes(x = seq_along(noise))) +     theme_mnirs() +     scale_colour_mnirs(name = NULL) +     geom_line(aes(y = noisy_sin)) +     geom_line(aes(y = filt_without_edge, colour = \"filt_without_edge\")) +     geom_line(aes(y = filt_with_edge, colour = \"filt_with_edge\"))"},{"path":"https://jemarnold.github.io/mnirs/reference/filter_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter a data frame ‚Äî filter_mnirs","title":"Filter a data frame ‚Äî filter_mnirs","text":"Apply digital filtering/smoothing numeric vector data within data frame using either: cubic smoothing spline. Butterworth digital filter. simple moving average.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter a data frame ‚Äî filter_mnirs","text":"","code":"filter_mnirs(   data,   nirs_channels = NULL,   time_channel = NULL,   sample_rate = NULL,   method = c(\"smooth_spline\", \"butterworth\", \"moving_average\"),   spar = NULL,   type = c(\"low\", \"high\", \"stop\", \"pass\"),   order = 2,   W = NULL,   fc = NULL,   width = NULL,   span = NULL,   na.rm = FALSE,   verbose = TRUE,   ... )"},{"path":"https://jemarnold.github.io/mnirs/reference/filter_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter a data frame ‚Äî filter_mnirs","text":"data data frame class \"mnirs\" containing time series data metadata. nirs_channels character vector mNIRS channel names operate . Must match column names data exactly. Retrieved metadata defined explicitly. time_channel character string indicating time sample channel name. Must match column names data exactly. Retrieved metadata defined explicitly. sample_rate numeric value sample rate Hz method = \"butterworth\". taken metadata estimated time_channel defined explicitly. method character string indicating filter data (see Details). \"smooth_spline\" Fits cubic smoothing spline. \"butterworth\" Uses centred Butterworth digital filter. type must defined (see Details). \"moving_average\" Uses centred moving average filter. spar numeric value defining smoothing parameter method = \"smooth_spline\". type character string indicating digital filter type method = \"butterworth\" (see Details). \"low\" low-pass filter (default). \"high\" high-pass filter. \"stop\" stop-band (band-reject) filter. \"pass\" pass-band filter. order integer defining filter order method = \"butterworth\" (default order = 2). W one- two-element numeric vector defining filter cutoff frequency(ies) method = \"butterworth\", fraction Nyquist frequency (see Details). fc one- two-element numeric vector defining filter cutoff frequency(ies) method = \"butterworth\", Hz (see Details). width integer defining local window number samples around idx perform operation method = \"moving_average\". [idx - floor(width/2), idx + floor(width/2)]. span numeric value defining local window timespan around idx perform operation method = \"moving_average\". units time_channel t, [t - span/2, t + span/2]. na.rm logical indicating whether missing values preserved passed filter (TRUE). Otherwise FALSE (default) throw error NAs (see Details). verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting. ... Additional arguments.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter a data frame ‚Äî filter_mnirs","text":"tibble class \"mnirs\" metadata available attributes().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_mnirs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Filter a data frame ‚Äî filter_mnirs","text":"method = \"smooth_spline\" Applies non-parametric cubic smoothing spline stats::smooth.spline(). Smoothing defined parameter spar, can left NULL automatically determined via penalised log liklihood. usually works well smoothing responses occurring order minutes longer. spar can defined explicitly, typically (necessarily) range spar = [0, 1]. method = \"butterworth\" Applies centred (two-pass symmetrical) Butterworth digital filter signal::butter() signal::filtfilt(). Filter type defines desired signal frequencies either passed rejected output signal. Low-pass high-pass filters allow frequencies lower higher cutoff frequency W passed output signal, respectively. Stop-band defines critical range frequencies rejected output signal. Pass-band defines critical range frequencies passed output signal. filter order (number passes) defined order, typically range order = [1, 10]. Higher filter order tends capture rapid changes amplitude, also causes distortion around change points signal. General advice use lowest filter order sufficiently captures desired rapid responses data. critical (cutoff) frequency defined W, numeric value low-pass high-pass filters, two-element vector c(low, high) defining lower upper bands stop-band pass-band filters. W represents desired fractional cutoff frequency range W = [0, 1], 1 Nyquist frequency, .e., half sample rate data Hz. Alternatively, cutoff frequency can defined fc sample_rate together. fc represents desired cutoff frequency Hz, sample_rate sample rate recorded data Hz. W = fc / (sample_rate / 2). one either W fc defined. defined, W preferred fc. method = \"moving_average\" Applies centred (symmetrical) moving average filter local window, defined either width number samples around idx [idx - floor(width/2), idx + floor(width/2)]. span timespan units time_channel [t - span/2, t + span/2]. Specifying width often faster span. partial moving average calculated edges data. Missing values (NA) nirs_channels cause error method = \"smooth_spline\" \"butterworth\", unless na.rm = TRUE. NAs preserved passed returned data.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter a data frame ‚Äî filter_mnirs","text":"","code":"options(mnirs.verbose = FALSE)  ## read example data data <- read_mnirs(     file_path = example_mnirs(\"moxy_ramp\"),     nirs_channels = c(smo2 = \"SmO2 Live\"),     time_channel = c(time = \"hh:mm:ss\") ) |>     replace_mnirs(         invalid_values = c(0, 100),         outlier_cutoff = 3,         width = 10     )  data_filtered <- filter_mnirs(     data,     method = \"butterworth\", ## Butterworth digital filter is a common choice     type = \"low\",           ## specify a low-pass filter     order = 2,              ## order is the number of filter passes     W = 0.02,               ## fractional critical frequency     na.rm = TRUE            ## explicitly preserve any NAs and avoid errors )  library(ggplot2) ## plot filtered data and add the raw data back to the plot to compare plot(data_filtered, label_time = TRUE) +     geom_line(         data = data,         aes(y = smo2, colour = \"smo2\"), alpha = 0.4     )"},{"path":"https://jemarnold.github.io/mnirs/reference/filter_moving_average.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a moving average filter ‚Äî filter_moving_average","title":"Apply a moving average filter ‚Äî filter_moving_average","text":"Apply simple moving average smoothing filter vector data","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_moving_average.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a moving average filter ‚Äî filter_moving_average","text":"","code":"filter_moving_average(   x,   t = seq_along(x),   width = NULL,   span = NULL,   partial = FALSE,   na.rm = FALSE,   verbose = TRUE,   ... )"},{"path":"https://jemarnold.github.io/mnirs/reference/filter_moving_average.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a moving average filter ‚Äî filter_moving_average","text":"x numeric vector response variable. t optional numeric vector predictor variable; time sample number. Defaults indices t = seq_along(x). width integer defining local window number samples around idx perform operation., [idx - floor(width/2), idx + floor(width/2)]. span numeric value defining local window timespan around idx perform operation. units time_channel t, [t - span/2, t + span/2]. partial logical specifying whether perform operation subset available data within local rolling window (TRUE), requiring complete window valid samples (FALSE, default). See Details. na.rm logical indicating whether missing values preserved passed filter (TRUE). Otherwise FALSE (default) throw error NAs (see Details). verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting. ... Additional arguments.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_moving_average.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply a moving average filter ‚Äî filter_moving_average","text":"numeric vector length x.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/filter_moving_average.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Apply a moving average filter ‚Äî filter_moving_average","text":"Applies centred (symmetrical) moving average filter local window defined either width number samples around idx [idx - floor(width/2), idx + floor(width/2)]. span timespan units time_channel [t - span/2, t + span/2]. Specifying width often faster span. valid values within calculation window, return NA. partial moving average calculated edges data.","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/filter_moving_average.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply a moving average filter ‚Äî filter_moving_average","text":"","code":"## basic moving average with sample width x <- c(1, 3, 2, 5, 4, 6, 5, 7) filter_moving_average(x, width = 3) #> [1]       NA 2.000000 3.333333 3.666667 5.000000 5.000000 6.000000       NA  ## with explicit time vector t <- c(0, 1, 2, 3, 4, 5, 6, 7) filter_moving_average(x, t, width = 2) #> [1] 2.0 2.5 3.5 4.5 5.0 5.5 6.0  NA  ## using timespan instead of sample width filter_moving_average(x, span = 2) #> [1] 2.000000 2.000000 3.333333 3.666667 5.000000 5.000000 6.000000 6.000000"},{"path":"https://jemarnold.github.io/mnirs/reference/fix_coefs.html","id":null,"dir":"Reference","previous_headings":"","what":"Update a model object with Fixed coefficients ‚Äî fix_coefs","title":"Update a model object with Fixed coefficients ‚Äî fix_coefs","text":"Re-fit model fixed coefficients provided additional arguments. Fixed coefficients modified optimising best fit.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/fix_coefs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update a model object with Fixed coefficients ‚Äî fix_coefs","text":"","code":"fix_coefs(model, data = NULL, verbose = TRUE, ...)"},{"path":"https://jemarnold.github.io/mnirs/reference/fix_coefs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update a model object with Fixed coefficients ‚Äî fix_coefs","text":"model existing model object lm, nls, glm, others. data optional data frame supply manually original data frame unavailable different parent environment. verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting. ... Named model coefficients fix.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/fix_coefs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update a model object with Fixed coefficients ‚Äî fix_coefs","text":"updated model object remaining free coefficients.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/fix_coefs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Update a model object with Fixed coefficients ‚Äî fix_coefs","text":"fixed coefficients supplied, coefficient exist model, model returned unchanged (warning). function update model coefficients supplied fixed, abort.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/format_hmmss.html","id":null,"dir":"Reference","previous_headings":"","what":"Format timespan data as h:mm:ss ‚Äî format_hmmss","title":"Format timespan data as h:mm:ss ‚Äî format_hmmss","text":"Convert numeric timespan data h:mm:ss format pretty plotting. Inspired ggplot2::scale_x_time().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/format_hmmss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format timespan data as h:mm:ss ‚Äî format_hmmss","text":"","code":"format_hmmss(x)"},{"path":"https://jemarnold.github.io/mnirs/reference/format_hmmss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format timespan data as h:mm:ss ‚Äî format_hmmss","text":"x numeric vector.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/format_hmmss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format timespan data as h:mm:ss ‚Äî format_hmmss","text":"character vector length x.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/format_hmmss.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Format timespan data as h:mm:ss ‚Äî format_hmmss","text":"values less 3600 (1 hour), format returned mm:ss. value greater 3600, format returned h:mm:ss leading zeroes.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/format_hmmss.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format timespan data as h:mm:ss ‚Äî format_hmmss","text":"","code":"x = 0:120 y = sin(2 * pi * x / 15) + rnorm(length(x), 0, 0.2)  library(ggplot2) data.frame(x, y) |>     ggplot(aes(x, y)) +     theme_mnirs() +     scale_x_continuous(         breaks = breaks_timespan(),         labels = format_hmmss     ) +     geom_line()"},{"path":"https://jemarnold.github.io/mnirs/reference/group_intervals.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply grouping to intervals ‚Äî group_intervals","title":"Apply grouping to intervals ‚Äî group_intervals","text":"Apply grouping intervals","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/group_intervals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply grouping to intervals ‚Äî group_intervals","text":"","code":"group_intervals(   interval_list,   nirs_channels,   metadata,   group_events,   zero_time = TRUE,   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/is_empty.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect empty or NA strings ‚Äî is_empty","title":"Detect empty or NA strings ‚Äî is_empty","text":"Detect empty NA strings","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/is_empty.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect empty or NA strings ‚Äî is_empty","text":"","code":"is_empty(x)"},{"path":"https://jemarnold.github.io/mnirs/reference/make_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate if an item is a list ‚Äî make_list","title":"Validate if an item is a list ‚Äî make_list","text":"Validate item list","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/make_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate if an item is a list ‚Äî make_list","text":"","code":"make_list(x)"},{"path":"https://jemarnold.github.io/mnirs/reference/mnirs-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mnirs: Muscle Near-Infrared Spectroscopy Processing and Analysis ‚Äî mnirs-package","title":"mnirs: Muscle Near-Infrared Spectroscopy Processing and Analysis ‚Äî mnirs-package","text":"Methods reading, processing, analysing data muscle near-infrared spectroscopy (mNIRS) devices.","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/mnirs-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mnirs: Muscle Near-Infrared Spectroscopy Processing and Analysis ‚Äî mnirs-package","text":"Maintainer: Jem Arnold jem.arnold@ubc.ca (ORCID) [copyright holder]","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/monoexp_init.html","id":null,"dir":"Reference","previous_headings":"","what":"Initiate self-starting monoexponential model ‚Äî monoexp_init","title":"Initiate self-starting monoexponential model ‚Äî monoexp_init","text":"monoexp_init(): Returns initial values parameters selfStart model.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/monoexp_init.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initiate self-starting monoexponential model ‚Äî monoexp_init","text":"","code":"monoexp_init(mCall, data, LHS, ...)"},{"path":"https://jemarnold.github.io/mnirs/reference/monoexp_init.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initiate self-starting monoexponential model ‚Äî monoexp_init","text":"mCall matched call function model. data data frame time t response variable. LHS left-hand side expression model formula. ... Additional arguments.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/monoexp_init.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initiate self-starting monoexponential model ‚Äî monoexp_init","text":"monoexp_init(): Initial starting estimates parameters model called SS_monoexp3() SS_monoexp4().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/monoexponential.html","id":null,"dir":"Reference","previous_headings":"","what":"Monoexponential function with 4 parameters ‚Äî monoexponential","title":"Monoexponential function with 4 parameters ‚Äî monoexponential","text":"Calculate four-parameter monoexponential curve.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/monoexponential.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Monoexponential function with 4 parameters ‚Äî monoexponential","text":"","code":"monoexponential(t, A, B, tau, TD = NULL)"},{"path":"https://jemarnold.github.io/mnirs/reference/monoexponential.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Monoexponential function with 4 parameters ‚Äî monoexponential","text":"t numeric vector predictor variable; time sample number. numeric parameter starting (baseline) value response variable. B numeric parameter ending (asymptote) value response variable. tau numeric parameter time constant tau (\\(\\tau\\)) exponential curve, units predictor variable t. TD numeric parameter time delay onset exponential response, units predictor variable t. NULL (default), 3-parameter model without time delay used.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/monoexponential.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Monoexponential function with 4 parameters ‚Äî monoexponential","text":"numeric vector predicted values length predictor variable t.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/monoexponential.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Monoexponential function with 4 parameters ‚Äî monoexponential","text":"3-parameter model equation: + (B - ) * (1 - exp(-t / tau)) 4-parameter model equation: ifelse(t <= TD, , + (B - ) * (1 - exp(-(t - TD) / tau))) tau time constant equal reciprocal k, rate constant (k = 1/tau).","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/monoexponential.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Monoexponential function with 4 parameters ‚Äî monoexponential","text":"","code":"set.seed(13) t <- 1:60  ## create an exponential curve with random noise x <- monoexponential(t, A = 10, B = 100, tau = 8, TD = 15) + rnorm(length(t), 0, 3) data <- data.frame(t, x)  (model <- nls(x ~ SS_monoexp4(t, A, B, tau, TD), data = data)) #> Nonlinear regression model #>   model: x ~ SS_monoexp4(t, A, B, tau, TD) #>    data: data #>       A       B     tau      TD  #>  10.461 100.233   8.313  14.884  #>  residual sum-of-squares: 455.5 #>  #> Number of iterations to convergence: 5  #> Achieved convergence tolerance: 7.481e-07  y <- predict(model, data)  library(ggplot2) ggplot(data, aes(t, x)) +     theme_mnirs() +     geom_point() +     geom_line(aes(y = y))"},{"path":"https://jemarnold.github.io/mnirs/reference/moxy_intervals.csv.html","id":null,"dir":"Reference","previous_headings":"","what":"0.5 Hz Moxy onboard export ‚Äî moxy_intervals.csv","title":"0.5 Hz Moxy onboard export ‚Äî moxy_intervals.csv","text":"Exported Moxy onboard recording 0.5 Hz smoothing. Containing four 5-minute cycling work intervals, placed vastus lateralis muscle site.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/moxy_intervals.csv.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"0.5 Hz Moxy onboard export ‚Äî moxy_intervals.csv","text":".csv file seven columns 974 rows. nirs_channels = c(\"SmO2 Live\", \"SmO2 Averaged\", \"THb\") time_channel = c(\"hh:mm:ss\")","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/moxy_ramp.xlsx.html","id":null,"dir":"Reference","previous_headings":"","what":"2 Hz PerfPro export of Moxy data ‚Äî moxy_ramp.xlsx","title":"2 Hz PerfPro export of Moxy data ‚Äî moxy_ramp.xlsx","text":"Exported PerfPro Studio software, recorded 0.5 Hz smoothing exported 2 Hz. Containing ramp incremental cycling protocol, placed bilateral vastus lateralis muscle sites. data errors (outliers, invalid data, missing NA values) introduced demonstrate mnirs package functionality.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/moxy_ramp.xlsx.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"2 Hz PerfPro export of Moxy data ‚Äî moxy_ramp.xlsx","text":".xlsx file six columns 2203 rows. nirs_channels = c(\"SmO2 Live\", \"SmO2 Live(2)\") time_channel = c(\"hh:mm:ss\") event_channel = c(\"Lap\") event_times = c(870)","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/name_channels.html","id":null,"dir":"Reference","previous_headings":"","what":"Force names on character strings ‚Äî name_channels","title":"Force names on character strings ‚Äî name_channels","text":"Force names character strings","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/name_channels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Force names on character strings ‚Äî name_channels","text":"","code":"name_channels(x)"},{"path":"https://jemarnold.github.io/mnirs/reference/palette_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom mnirs colour palette ‚Äî palette_mnirs","title":"Custom mnirs colour palette ‚Äî palette_mnirs","text":"Custom mnirs colour palette","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/palette_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom mnirs colour palette ‚Äî palette_mnirs","text":"","code":"palette_mnirs(n = NULL, names = NULL)"},{"path":"https://jemarnold.github.io/mnirs/reference/palette_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom mnirs colour palette ‚Äî palette_mnirs","text":"n numeric vector specifying number colours return. names character vector specifying colour names return.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/palette_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom mnirs colour palette ‚Äî palette_mnirs","text":"Named unnamed character vector hex colours.","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/palette_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom mnirs colour palette ‚Äî palette_mnirs","text":"","code":"scales::show_col(palette_mnirs())  scales::show_col(palette_mnirs(n = 2))  scales::show_col(palette_mnirs(names = c(\"red\", \"orange\")))"},{"path":"https://jemarnold.github.io/mnirs/reference/parse_channel_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse channel expressions for NSE ‚Äî parse_channel_name","title":"Parse channel expressions for NSE ‚Äî parse_channel_name","text":"Converts quosures character vectors, handling bare symbols, character strings, lists, tidyselect expressions.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/parse_channel_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse channel expressions for NSE ‚Äî parse_channel_name","text":"","code":"parse_channel_name(channel, data, env = rlang::caller_env())"},{"path":"https://jemarnold.github.io/mnirs/reference/parse_channel_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse channel expressions for NSE ‚Äî parse_channel_name","text":"channel quosure rlang::enquo(). data data frame tidyselect context. env Environment symbol evaluation.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/parse_channel_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse channel expressions for NSE ‚Äî parse_channel_name","text":"character vector, list character vectors, NULL.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/parse_sample_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate and Estimate Sample Rate ‚Äî parse_sample_rate","title":"Validate and Estimate Sample Rate ‚Äî parse_sample_rate","text":"Validate Estimate Sample Rate","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/parse_sample_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate and Estimate Sample Rate ‚Äî parse_sample_rate","text":"","code":"parse_sample_rate(   data,   file_header,   time_channel,   sample_rate = NULL,   nirs_device = NULL,   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/parse_time_channel.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse time_channel character or dttm to numeric ‚Äî parse_time_channel","title":"Parse time_channel character or dttm to numeric ‚Äî parse_time_channel","text":"Parse time_channel character dttm numeric","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/parse_time_channel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse time_channel character or dttm to numeric ‚Äî parse_time_channel","text":"","code":"parse_time_channel(   data,   time_channel,   add_timestamp = FALSE,   zero_time = FALSE )"},{"path":"https://jemarnold.github.io/mnirs/reference/peak_slope.html","id":null,"dir":"Reference","previous_headings":"","what":"Find peak linear slope ‚Äî peak_slope","title":"Find peak linear slope ‚Äî peak_slope","text":"Identifies maximum positive negative local linear slope within numeric vector returns regression parameters","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/peak_slope.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find peak linear slope ‚Äî peak_slope","text":"","code":"peak_slope(   x,   t = seq_along(x),   width = NULL,   span = NULL,   align = c(\"centre\", \"left\", \"right\"),   direction = c(\"auto\", \"positive\", \"negative\"),   partial = FALSE,   verbose = TRUE,   ... )"},{"path":"https://jemarnold.github.io/mnirs/reference/peak_slope.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find peak linear slope ‚Äî peak_slope","text":"x numeric vector response variable. t optional numeric vector predictor variable; time sample number. Defaults indices t = seq_along(x). width integer defining local window number samples around idx perform operation., [idx - floor(width/2), idx + floor(width/2)]. span numeric value defining local window timespan around idx perform operation. units time_channel t, [t - span/2, t + span/2]. align Window alignment \"centre\"/\"center\" (default), \"left\", \"right\". \"left\" forward looking, \"right\" backward looking current sample. direction character string detect either peak \"positive\" \"negative\" slope, \"auto\" detect (default) based overal trend signal (see Details). partial logical specifying whether perform operation subset available data within local rolling window (TRUE), requiring complete window valid samples (FALSE, default). See Details. verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting. ... Additional arguments.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/peak_slope.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find peak linear slope ‚Äî peak_slope","text":"named list containing: slope peak slope value units x/t. intercept y-intercept peak local regression equation. y response value predicted x t. t time value index peak slope window. idx index position peak slope. window_idx integer vector indices peak slope window.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/peak_slope.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Find peak linear slope ‚Äî peak_slope","text":"Uses rolling slope calculations via least squares formula complete case data. local rolling window can specified either width number samples, span timespan units t. align defaults \"centre\" local window around idx [idx - floor((width-1)/2), idx + floor(width/2)] width specified. Even width values bias align \"left\", unequal sample forward idx. span specified align = \"centre\", local window [t - span/2, t + span/2]. direction = \"auto\", net slope across x calculated determine trend direction (positive negative), greatest local slope direction returned. net slope equals zero, return greatest absolute local slope. direction = \"positive\" \"negative\", returns greatest respective directional slope. positive/negative slopes exist, returns NA warning. default partial = FALSE requires complete case data number valid samples specified width span (number samples estimated span sample rate t). fewer requires valid samples present local vector, NA returned. partial = TRUE allows calculation partial windows least 2 valid samples, edge conditions missing data NAs. However, slope values sensitive noisy data, use caution.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/peak_slope.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find peak linear slope ‚Äî peak_slope","text":"","code":"x <- c(1, 3, 2, 5, 8, 7, 9, 12, 11, 15, 14, 17, 18) peak_slope(x, width = 5) #> $slope #> [1] 1.8 #>  #> $intercept #> [1] -3.6 #>  #> $y #> [1] 10.8 #>  #> $t #> [1] 8 #>  #> $idx #> [1] 8 #>  #> $window_idx #> [1]  6  7  8  9 10 #>   x_dec <- rev(x) peak_slope(x_dec, width = 5) #> $slope #> [1] -1.8 #>  #> $intercept #> [1] 21.6 #>  #> $y #> [1] 10.8 #>  #> $t #> [1] 6 #>  #> $idx #> [1] 6 #>  #> $window_idx #> [1] 4 5 6 7 8 #>"},{"path":"https://jemarnold.github.io/mnirs/reference/plot.mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot mnirs objects ‚Äî plot.mnirs","title":"Plot mnirs objects ‚Äî plot.mnirs","text":"Create simple plot objects returned create_mnirs_data().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/plot.mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot mnirs objects ‚Äî plot.mnirs","text":"","code":"# S3 method for class 'mnirs' plot(x, ...)"},{"path":"https://jemarnold.github.io/mnirs/reference/plot.mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot mnirs objects ‚Äî plot.mnirs","text":"x Object class \"mnirs\" returned create_mnirs_data() ... Additional arguments: label_time logical display x-axis time values formatted \"hh:mm:ss\" using scales::label_time(). label_time = FALSE (default) display simple numeric values x-axis. n.breaks numeric value define number breaks x- y-axes. na.omit logical omit missing (NA) values better display connected lines. na.omit = FALSE (default) can used identify missing values.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/plot.mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot mnirs objects ‚Äî plot.mnirs","text":"ggplot2 object.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/plot.mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot mnirs objects ‚Äî plot.mnirs","text":"","code":"data_table <- read_mnirs(     file_path = example_mnirs(\"moxy_ramp\"),     nirs_channels = c(smo2_right = \"SmO2 Live\",                       smo2_left = \"SmO2 Live(2)\"),     time_channel = c(time = \"hh:mm:ss\"),     verbose = FALSE )  ## note the hidden options to display time values as `h:mm:ss` with 8 breaks plot(data_table, label_time = TRUE, n.breaks = 8)"},{"path":"https://jemarnold.github.io/mnirs/reference/portamon-oxcap.xlsx.html","id":null,"dir":"Reference","previous_headings":"","what":"10 Hz Artinis Oxysoft export recorded with Portamon ‚Äî portamon-oxcap.xlsx","title":"10 Hz Artinis Oxysoft export recorded with Portamon ‚Äî portamon-oxcap.xlsx","text":"Exported Artinis Oxysoft, recorded Portamon 10 Hz vastus lateralis muscle. Containing two trials repeated occlusion oxidative capacity testing, 17 occlusions.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/portamon-oxcap.xlsx.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"10 Hz Artinis Oxysoft export recorded with Portamon ‚Äî portamon-oxcap.xlsx","text":".xlsx file header metadata six columns 7943 rows. nirs_channels = c(THb = 2, HHb = 3, O2Hb = 4) time_channel = c(sample = 1) event_channel = c(event = 4, label = \"col_6\")","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/preserve_na.html","id":null,"dir":"Reference","previous_headings":"","what":"Preserve and Restore NA Information Within a Vector ‚Äî preserve_na","title":"Preserve and Restore NA Information Within a Vector ‚Äî preserve_na","text":"preserve_na() stores NA vector positions extracts valid non-NA values later restoration restore_na(). restore_na() restores NA values original vector positions processing valid non-NA values returned preserve_na().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/preserve_na.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Preserve and Restore NA Information Within a Vector ‚Äî preserve_na","text":"","code":"preserve_na(x)  restore_na(y, na_info)"},{"path":"https://jemarnold.github.io/mnirs/reference/preserve_na.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Preserve and Restore NA Information Within a Vector ‚Äî preserve_na","text":"x vector containing missing NA values. y vector valid non-NA values returned preserve_na(). na_info list returned preserve_na().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/preserve_na.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Preserve and Restore NA Information Within a Vector ‚Äî preserve_na","text":"preserve_na() returns list na_info components: na_info$x_valid: vector NA values removed. na_info$x_length: numeric value original input vector length. na_info$na_idx: logical vector preserving NA positions. restore_na() returns vector y length original input vector x NA values restored original positions.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/read_data_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data table from raw data ‚Äî read_data_table","title":"Read data table from raw data ‚Äî read_data_table","text":"Read data table raw data","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/read_data_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data table from raw data ‚Äî read_data_table","text":"","code":"read_data_table(   data,   nirs_channels,   time_channel = NULL,   event_channel = NULL,   rows = 200L )"},{"path":"https://jemarnold.github.io/mnirs/reference/read_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Read raw data frame from file path ‚Äî read_file","title":"Read raw data frame from file path ‚Äî read_file","text":"Read raw data frame file path","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/read_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read raw data frame from file path ‚Äî read_file","text":"","code":"read_file(file_path)"},{"path":"https://jemarnold.github.io/mnirs/reference/read_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Read mnirs data from file ‚Äî read_mnirs","title":"Read mnirs data from file ‚Äî read_mnirs","text":"Read files exported commercially available mNIRS devices return data frame class \"mnirs\" recorded time series data metadata.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/read_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read mnirs data from file ‚Äî read_mnirs","text":"","code":"read_mnirs(   file_path,   nirs_channels,   time_channel = NULL,   event_channel = NULL,   sample_rate = NULL,   add_timestamp = FALSE,   zero_time = FALSE,   keep_all = FALSE,   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/read_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read mnirs data from file ‚Äî read_mnirs","text":"file_path file path including extension (either \".xlsx\", \".xls\", \".csv\") import. nirs_channels character vector indicating mNIRS column names import file. Must match column names data file exactly. named character vector can used rename columns form: c(new_name = \"original_name\") (see Details). time_channel optional character string indicating time sample column name import file. Must match column names data file exactly. named character vector can used rename columns form: c(new_name = \"original_name\"). Time converted numeric format (see Details). event_channel optional character string indicating event lap column name import file. Must match column names data file exactly. named character vector can used rename columns form: c(new_name = \"original_name\") (see Details). sample_rate optional numeric value exported sample rate Hz. defined explicitly, estimated data (see Details). add_timestamp <development> logical add \"timestamp\" column date-time values class POSIXct, present data file. Currently functions existing time_channel data timestamp format (see Details). zero_time logical re-calculate time_channel zero preserve original time_channel values (FALSE, default). keep_all logical include columns detected file include explicitly specified data columns (FALSE, default). verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/read_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read mnirs data from file ‚Äî read_mnirs","text":"tibble class \"mnirs\" metadata available attributes().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/read_mnirs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read mnirs data from file ‚Äî read_mnirs","text":"Channel names matched single row, representing header row data columns anywhere data file, necessarily top row file. Channels can renamed format c(new_name = \"original_name\"), *\"original_name\"* exactly match column names found file. duplicate column names file, channel names attempt match order appear. may want confirm correct columns assigned channel intended. nirs_channels must defined explicitly match column names exactly. time_channel left blank, function attempt identify time column automatically based column names values containing time (POSIXct) data time-formatted character strings (e.g. \"hh:mm:ss\"). time_channel typically contain time values seconds. However, NIRS devices (example, Artinis devices recorded Oxysoft) export sample index (.e. integer row numbers). Oxysoft export sample rate detected file metadata, \"time\" column added converting sample indices time values seconds. time_channel provided date-time (POSIXct) format, converted numeric values re-calculated zero, even zero_time = FALSE. add_timestamp = TRUE, additional \"timestamp \" column added original date-time values. functionality currently <development> recognise start-time values file return absolute unix timestamps available. Setting zero_time = TRUE re-calculate numeric time_channel values start zero. time_channel contains irregular sampling (.e., non-sequential, repeated, unordered values) warning displayed (verbose = TRUE) suggesting user confirm file data manually. sample_rate required certain {mnirs} functions work properly can carried forward data frame metadata. defined explicitly, estimated differences values time_channel. , certain cases time_channel represents sample indices rather time values, sample_rate inaccurately estimated 1 Hz. cases, sample_rate defined explicitly. Columns rows contain entirely missing data (NA) omitted. verbose = TRUE display warnings information messages can useful troubleshooting. Errors causing abort messages always displayed. Messages can silenced globally options(mnirs.verbose = FALSE).","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/read_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read mnirs data from file ‚Äî read_mnirs","text":"","code":"## call an example mNIRS data file file_path <- example_mnirs(\"moxy_ramp\")  read_mnirs(     file_path,     nirs_channels = c(smo2_right = \"SmO2 Live\", ## identify and rename channels                       smo2_left = \"SmO2 Live(2)\"),     time_channel = c(time = \"hh:mm:ss\"), ## date-time format will be converted to numeric     sample_rate = NULL,                  ## sample_rate will be estimated from time_channel     verbose = FALSE                      ## silence warnings & messages ) #> # A tibble: 2,203 √ó 3 #>     time smo2_right smo2_left #>    <dbl>      <dbl>     <dbl> #>  1 0             54        68 #>  2 0.400         54        68 #>  3 0.960         54        68 #>  4 1.51          54        66 #>  5 2.06          54        66 #>  6 2.61          54        66 #>  7 3.16          54        66 #>  8 3.71          57        67 #>  9 4.26          57        67 #> 10 4.81          57        67 #> # ‚Ñπ 2,193 more rows"},{"path":"https://jemarnold.github.io/mnirs/reference/recycle_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Recycle parameter to match number of events ‚Äî recycle_param","title":"Recycle parameter to match number of events ‚Äî recycle_param","text":"Recycle argument vector list repeat last list item match number events.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/recycle_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recycle parameter to match number of events ‚Äî recycle_param","text":"","code":"recycle_param(param, n_events, group_events, verbose = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/reference/recycle_to_length.html","id":null,"dir":"Reference","previous_headings":"","what":"Recycle parameter list to target length ‚Äî recycle_to_length","title":"Recycle parameter list to target length ‚Äî recycle_to_length","text":"Recycle parameter list target length","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/recycle_to_length.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recycle parameter list to target length ‚Äî recycle_to_length","text":"","code":"recycle_to_length(param, n, name = c(\"event\", \"group\"), verbose = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/reference/remove_empty_rows_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove Empty Rows and Columns ‚Äî remove_empty_rows_cols","title":"Remove Empty Rows and Columns ‚Äî remove_empty_rows_cols","text":"Remove Empty Rows Columns","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/remove_empty_rows_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove Empty Rows and Columns ‚Äî remove_empty_rows_cols","text":"","code":"remove_empty_rows_cols(data)"},{"path":"https://jemarnold.github.io/mnirs/reference/rename_duplicates.html","id":null,"dir":"Reference","previous_headings":"","what":"Rename duplicate strings in a vector with make.unique() ‚Äî rename_duplicates","title":"Rename duplicate strings in a vector with make.unique() ‚Äî rename_duplicates","text":"Rename duplicate strings vector make.unique()","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/rename_duplicates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rename duplicate strings in a vector with make.unique() ‚Äî rename_duplicates","text":"","code":"rename_duplicates(x)"},{"path":"https://jemarnold.github.io/mnirs/reference/replace_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace outliers, invalid values, and missing values ‚Äî replace_mnirs","title":"Replace outliers, invalid values, and missing values ‚Äî replace_mnirs","text":"replace_mnirs() detects removes local outliers specified invalid values nirs_channels within \"mnirs\" data frame, replaces missing NA values via interpolation methods. replace_invalid() detects specified invalid values cutoff values vector data replaces local median value NA. replace_outliers() detects local outliers vector data Hampel filter replaces local median value NA. replace_missing() detects missing values vector data replaces via interpolation methods.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/replace_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace outliers, invalid values, and missing values ‚Äî replace_mnirs","text":"","code":"replace_mnirs(   data,   nirs_channels = NULL,   time_channel = NULL,   invalid_values = NULL,   invalid_above = NULL,   invalid_below = NULL,   outlier_cutoff = NULL,   width = NULL,   span = NULL,   method = c(\"linear\", \"median\", \"locf\", \"none\"),   verbose = TRUE )  replace_invalid(   x,   t = seq_along(x),   invalid_values = NULL,   invalid_above = NULL,   invalid_below = NULL,   width = NULL,   span = NULL,   method = c(\"median\", \"none\"),   bypass_checks = FALSE,   verbose = TRUE )  replace_outliers(   x,   t = seq_along(x),   outlier_cutoff = 3L,   width = NULL,   span = NULL,   method = c(\"median\", \"none\"),   bypass_checks = FALSE,   verbose = TRUE )  replace_missing(   x,   t = seq_along(x),   width = NULL,   span = NULL,   method = c(\"linear\", \"median\", \"locf\"),   bypass_checks = FALSE,   verbose = TRUE,   ... )"},{"path":"https://jemarnold.github.io/mnirs/reference/replace_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace outliers, invalid values, and missing values ‚Äî replace_mnirs","text":"data data frame class \"mnirs\" containing time series data metadata. nirs_channels character vector mNIRS channel names operate . Must match column names data exactly. Retrieved metadata defined explicitly. time_channel character string indicating time sample channel name. Must match column names data exactly. Retrieved metadata defined explicitly. invalid_values numeric vector invalid values replaced, e.g. invalid_values = c(0, 100, 102.3). default NULL replace invalid values. invalid_above, invalid_below Numeric values specifying cutoff values, (respectively) replaced, inclusive specified cutoff values. outlier_cutoff integer local outlier threshold, number standard deviations local median. default outlier_cutoff = NULL replace outliers. outlier_cutoff = 3 standard replacement threshold following Pearson's rule. width integer defining local window number samples around idx perform operation., [idx - floor(width/2), idx + floor(width/2)]. span numeric value defining local window timespan around idx perform operation. units time_channel t, [t - span/2, t + span/2]. method character string indicating handle replacement (see Details method): \"linear\" Replaces NAs via linear interpolation (default) using stats::approx(). \"median\" Replaces NAs local median valid values within centred window defined either width span. \"locf\" (\"Last observation carried forward\"). Replaces NAs recent valid non-NA value left trailing NAs right leading NAs, using stats::approx(). \"none\" Returns NAs without replacement. verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting. x numeric vector response variable. t optional numeric vector predictor variable; time sample number. Defaults indices t = seq_along(x). bypass_checks logical allowing wrapper functions bypass redundant checks validations. ... Additional arguments.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/replace_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace outliers, invalid values, and missing values ‚Äî replace_mnirs","text":"replace_mnirs() returns tibble class \"mnirs\" metadata available attributes(). Vectorised replace_*() return numeric vector length x.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/replace_mnirs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Replace outliers, invalid values, and missing values ‚Äî replace_mnirs","text":"replace_mnirs() wrapper function expanding vectorised replace_* functions operate data frame. nirs_channels time_channel can retrieved automatically data class \"mnirs\" processed {mnirs}, defined explicitly. Channels (columns) data explicitly defined nirs_channels passed untouched output data frame. replace_outliers replace_missing method = \"median\" require defining local rolling window perform outlier detection median interpolation. window can specified either width number samples centred idx [idx - floor(width/2), idx + floor(width/2)], span timespan units time_channel centred idx [t - span/2, t + span/2]. Specifying width often faster span. partial moving average calculated edges data. replace_invalid() can used remove known invalid values exported data. Specific invalid_values can replaced, c(0, 100, 102.3). Data ranges can replaced cutoff values specified invalid_above invalid_below, values higher lower specified cutoff values (respectively) replaced, inclusive cutoff values . replace_outliers() compute rolling local median values across x, defined either width number samples, span timespan units t. Specifying width often faster span. Outliers detected robust median absolute deviation (MAD) method adapted pracma::hampel(). Outliers equal less smallest absolute time series difference x excluded, avoid detecting negligible differences outliers local data minimal zero variation. Values x outside local bounds defined outlier_cutoff identified local outliers either removed method = \"none\", replaced local median value (method = \"median\", default). function replace NA values already existing x. passed along returned vector. See replace_missing(). high outlier_cutoff threshold makes Hampel filter forgiving. low outlier_cutoff declare points outliers. outlier_cutoff = 3 corresponds Pearson's 3 sigma edit rule. outlier_cutoff = 0 corresponds Tukey's median filter. replace_missing() interpolate across missing values (NAs) specified method. Leading trailing NAs replaced \"nocb\" (\"next observation carried backward\") \"locf\", respectively, method =  \"linear\" \"locf\", applying rule = 2 (see stats::approx()). method = \"median\" calculate local median valid (non-NA) values either side NAs within window defined width number samples, timespan defined span units t (time). sequential NAs replaced median value. valid values within span one side NA value(s), replaced median side (.e. leading trailing NAs). valid values within either side span, first valid sample either side used (.e. equivalent replace_missing(x, width = 1)).","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/replace_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace outliers, invalid values, and missing values ‚Äî replace_mnirs","text":"","code":"## vectorised operation x <- c(1, 999, 3, 4, 999, 6) replace_invalid(x, invalid_values = 999, width = 2, method = \"median\") #> [1] 1 3 3 4 6 6  (x_na <- replace_outliers(x, outlier_cutoff = 3, width = 2, method = \"none\")) #> [1]   1 999   3   4 999   6  replace_missing(x_na, method = \"linear\") #> [1]   1 999   3   4 999   6  ## read example data data <- read_mnirs(     file_path = example_mnirs(\"moxy_ramp\"),     nirs_channels = c(smo2 = \"SmO2 Live\"),     time_channel = c(time = \"hh:mm:ss\"),     verbose = FALSE )  ## clean data data_clean <- replace_mnirs(     data,     nirs_channels = NULL, ## nirs_channels will be retrieved from metadata     time_channel = NULL,  ## retrieved from metadata     invalid_values = 0,   ## known invalid values in the data     invalid_above = 90,   ## remove data spikes     outlier_cutoff = 3,   ## recommended default value     width = 10,           ## window to detect local outliers     method = \"linear\",    ## linear interpolation over `NA`s     verbose = FALSE )  library(ggplot2) ## plot original and and show where values have been replaced plot(data, label_time = TRUE) +     scale_colour_manual(         name = NULL,         breaks = c(\"smo2\", \"replaced\"),         values = palette_mnirs(2)     ) +     geom_point(         data = data[data_clean$smo2 != data$smo2, ],         aes(y = smo2, colour = \"replaced\"), na.rm = TRUE     ) +     geom_line(         data = {             data_clean[!is.na(data$smo2), \"smo2\"] <- NA             data_clean         },         aes(y = smo2, colour = \"replaced\"), linewidth = 1, na.rm = TRUE     ) #> Scale for colour is already present. #> Adding another scale for colour, which will replace the existing scale."},{"path":"https://jemarnold.github.io/mnirs/reference/resample_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Re-sample a data frame ‚Äî resample_mnirs","title":"Re-sample a data frame ‚Äî resample_mnirs","text":"- -sample number samples \"mnirs\" data frame using interpolation.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/resample_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Re-sample a data frame ‚Äî resample_mnirs","text":"","code":"resample_mnirs(   data,   time_channel = NULL,   sample_rate = NULL,   resample_rate = sample_rate,   method = c(\"linear\", \"locf\", \"none\"),   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/resample_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Re-sample a data frame ‚Äî resample_mnirs","text":"data data frame class \"mnirs\" containing time series data metadata. time_channel character string indicating time sample channel name. Must match column names data exactly. Retrieved metadata defined explicitly. sample_rate numeric value exported data sample rate Hz. Retrieved metadata estimated time_channel defined explicitly. resample_rate optional numeric value indicating desired output sample rate (Hz) re-sample data frame. default resample_rate = sample_rate interpolate missing repeated samples within bounds existing data rounded nearest value Hz. method character string indicating handle resampling (see Details method): \"linear\" Re-samples replaces NAs via linear interpolation (default) using stats::approx(). \"locf\" (\"Last observation carried forward\"). Re-samples replaces NAs recent valid non-NA value left trailing samples right leading samples, using stats::approx(). \"none\" Re-samples matching values nearest value time_channel, without interpolating across new samples NAs original data frame. verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/resample_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Re-sample a data frame ‚Äî resample_mnirs","text":"tibble class \"mnirs\" metadata available attributes().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/resample_mnirs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Re-sample a data frame ‚Äî resample_mnirs","text":"function uses replace_missing() (based stats::approx()) interpolate across new samples re-sampled data range. time_channel sample_rate can retrieved automatically data class \"mnirs\" processed {mnirs}, defined explicitly. Otherwise, sample_rate estimated values time_channel. However, may return unexpected values, safer define sample_rate explicitly. default setting resample_rate = sample_rate interpolate missing repeated samples within bounds existing data rounded nearest sample_rate. default, method = \"linear\" \"locf\" interpolate across NAs original data new samples existing values time_channel (see ?replace_missing). Whereas method = \"none\" match values numeric columns original samples time_channel new re-sampled samples, without interpolation. Meaning NAs original data new samples returned NA.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/resample_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Re-sample a data frame ‚Äî resample_mnirs","text":"","code":"## read example data data <- read_mnirs(     file_path = example_mnirs(\"moxy_ramp\"),     nirs_channels = c(smo2 = \"SmO2 Live\"),     time_channel = c(time = \"hh:mm:ss\"),     verbose = FALSE )  data #> # A tibble: 2,203 √ó 2 #>     time  smo2 #>    <dbl> <dbl> #>  1 0        54 #>  2 0.400    54 #>  3 0.960    54 #>  4 1.51     54 #>  5 2.06     54 #>  6 2.61     54 #>  7 3.16     54 #>  8 3.71     57 #>  9 4.26     57 #> 10 4.81     57 #> # ‚Ñπ 2,193 more rows  data_resampled <- resample_mnirs(     data,              ## channels retrieved from metadata     resample_rate = 2, ## the default `resample_rate = sample_rate` will resample to sample_rate     method = \"linear\", ## linear interpolation across any new samples     verbose = TRUE     ## will confirm the output sample rate ) #> ‚Ñπ Output is resampled at 2 Hz.  ## note the altered \"time\" values data_resampled #> # A tibble: 2,419 √ó 2 #>     time  smo2 #>    <dbl> <dbl> #>  1   0    54   #>  2   0.5  54   #>  3   1    54   #>  4   1.5  54   #>  5   2    54   #>  6   2.5  54   #>  7   3    54   #>  8   3.5  55.9 #>  9   4    57   #> 10   4.5  57   #> # ‚Ñπ 2,409 more rows"},{"path":"https://jemarnold.github.io/mnirs/reference/rescale_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Re-scale data range ‚Äî rescale_mnirs","title":"Re-scale data range ‚Äî rescale_mnirs","text":"Expand reduce range (min max values) data channels new amplitude/dynamic range, e.g. re-scale range NIRS data c(0, 100).","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/rescale_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Re-scale data range ‚Äî rescale_mnirs","text":"","code":"rescale_mnirs(   data,   nirs_channels = list(NULL),   range,   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/rescale_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Re-scale data range ‚Äî rescale_mnirs","text":"data data frame class \"mnirs\" containing time series data metadata. nirs_channels list() character vectors indicating grouping structure mNIRS channel names operate (see Details). Must match column names data exactly. Retrieved metadata defined explicitly. list(\"\", \"B\", \"C\") operate channel independently, losing relative scaling channels. list(c(\"\", \"B\", \"C\")) operate channels together, preserving relative scaling channels. list(c(\"\", \"B\"), c(\"C\", \"D\")) operate channels & B one group, C & D another group, preserving relative scaling within, groups. range numeric vector form c(min, max), indicating range output values data channels re-scaled. verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/rescale_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Re-scale data range ‚Äî rescale_mnirs","text":"tibble class \"mnirs\" metadata available attributes().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/rescale_mnirs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Re-scale data range ‚Äî rescale_mnirs","text":"nirs_channels = list() can used group data channels (column names) preserve absolute relative scaling. Channels grouped together vector (e.g. list(c(\"\", \"B\"))) re-scaled common range, relative scaling within group preserved. Channels separate list vectors (e.g. list(\"\", \"B\")) re-scaled independently, relative scaling groups lost. single vector channel names (e.g. c(\"\", \"B\")) group channels together. Channels (columns) data explicitly defined nirs_channels passed untouched output data frame. nirs_channels can retrieved automatically data class \"mnirs\" processed {mnirs}, defined explicitly. default returning nirs_channels grouped together, defined explicitly grouping arrangements.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/rescale_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Re-scale data range ‚Äî rescale_mnirs","text":"","code":"options(mnirs.verbose = FALSE)  ## read example data data <- read_mnirs(     file_path = example_mnirs(\"moxy_ramp\"),     nirs_channels = c(smo2_right = \"SmO2 Live\",                       smo2_left = \"SmO2 Live(2)\"),     time_channel = c(time = \"hh:mm:ss\") ) |>     resample_mnirs() |>     replace_mnirs(         invalid_values = c(0, 100),         outlier_cutoff = 3,         width = 10,         method = \"linear\"     ) |>     filter_mnirs(na.rm = TRUE) |>     rescale_mnirs(         nirs_channels = list(c(smo2_right, smo2_left)),         range = c(0, 100)   ## rescale to a 0-100% functional exercise range     ) #> ‚Ñπ `nirs_channel` = \"smo2_right\": `smooth.spline(spar = 0.056)` #> ‚Ñπ `nirs_channel` = \"smo2_left\": `smooth.spline(spar = 0.056)`  library(ggplot2) plot(data, label_time = TRUE) +     geom_hline(yintercept = c(0, 100), linetype = \"dotted\")"},{"path":"https://jemarnold.github.io/mnirs/reference/rolling_slope.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate rolling linear slope ‚Äî rolling_slope","title":"Calculate rolling linear slope ‚Äî rolling_slope","text":"rolling_slope(): Computes rolling linear regression slopes within local window along numeric vector. slope(): Calculates linear regression slope numeric vector.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/rolling_slope.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate rolling linear slope ‚Äî rolling_slope","text":"","code":"rolling_slope(   x,   t = seq_along(x),   width = NULL,   span = NULL,   align = c(\"centre\", \"left\", \"right\"),   partial = FALSE,   verbose = TRUE,   ... )  slope(x, t = seq_along(x), ...)"},{"path":"https://jemarnold.github.io/mnirs/reference/rolling_slope.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate rolling linear slope ‚Äî rolling_slope","text":"x numeric vector response variable. t optional numeric vector predictor variable; time sample number. Defaults indices t = seq_along(x). width integer defining local window number samples around idx perform operation., [idx - floor(width/2), idx + floor(width/2)]. span numeric value defining local window timespan around idx perform operation. units time_channel t, [t - span/2, t + span/2]. align Window alignment \"centre\"/\"center\" (default), \"left\", \"right\". \"left\" forward looking, \"right\" backward looking current sample. partial logical specifying whether perform operation subset available data within local rolling window (TRUE), requiring complete window valid samples (FALSE, default). See Details. verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting. ... Additional arguments.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/rolling_slope.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate rolling linear slope ‚Äî rolling_slope","text":"rolling_slope() returns numeric vector rolling local slopes units x/t length x. slope() returns numeric slope units x/t.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/rolling_slope.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate rolling linear slope ‚Äî rolling_slope","text":"See details peak_slope(). Additional args (...) accepts: bypass_checks Logical; Speeds operation bypassing validation checks. checks performed upstream. min_obs Integer; minimum number observations required calculate slope(). Defined either width span, equal 2 partial = TRUE intercept Logical; TRUE, slope() also return numeric intercept value retrievable attr(slope, \"intercept\"). window_idx Logical; TRUE, rolling_slope() also return list numeric window indices retrievable attr(rolling_slope, \"window_idx\").","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/scale_colour_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Scales for custom mnirs palette ‚Äî scale_colour_mnirs","title":"Scales for custom mnirs palette ‚Äî scale_colour_mnirs","text":"Scales custom mnirs palette","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/scale_colour_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scales for custom mnirs palette ‚Äî scale_colour_mnirs","text":"","code":"scale_colour_mnirs(..., aesthetics = \"colour\")  scale_color_mnirs(..., aesthetics = \"colour\")  scale_fill_mnirs(..., aesthetics = \"fill\")"},{"path":"https://jemarnold.github.io/mnirs/reference/scale_colour_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scales for custom mnirs palette ‚Äî scale_colour_mnirs","text":"... Arguments passed ggplot2::discrete_scale(). aesthetics character vector aesthetic(s) passed ggplot2::discrete_scale(). Default \"colour\".","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/scale_colour_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scales for custom mnirs palette ‚Äî scale_colour_mnirs","text":"ggplot2 scale object.","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/scale_colour_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scales for custom mnirs palette ‚Äî scale_colour_mnirs","text":"","code":"## plot example data df <- read_mnirs(     file_path = example_mnirs(\"moxy_ramp\"),     nirs_channels = c(smo2_right = \"SmO2 Live\",                       smo2_left = \"SmO2 Live(2)\"),     time_channel = c(time = \"hh:mm:ss\"),     verbose = FALSE )  library(ggplot2) ggplot(df, aes(x = time)) +     theme_mnirs() +     scale_colour_mnirs(name = NULL) +     geom_line(aes(y = smo2_left, colour = \"smo2_left\")) +     geom_line(aes(y = smo2_right, colour = \"smo2_right\"))"},{"path":"https://jemarnold.github.io/mnirs/reference/select_rename_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Select data table columns and rename from channels, handling duplicates ‚Äî select_rename_data","title":"Select data table columns and rename from channels, handling duplicates ‚Äî select_rename_data","text":"Select data table columns rename channels, handling duplicates","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/select_rename_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select data table columns and rename from channels, handling duplicates ‚Äî select_rename_data","text":"","code":"select_rename_data(   data,   nirs_channels,   time_channel,   event_channel = NULL,   keep_all = FALSE,   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/seq_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate numeric sequence from range of a vector ‚Äî seq_range","title":"Generate numeric sequence from range of a vector ‚Äî seq_range","text":"Creates numeric sequence spanning range input data specified step size direction. Optionally rounds range endpoints generating sequence.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/seq_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate numeric sequence from range of a vector ‚Äî seq_range","text":"","code":"seq_range(x, by = 1, direction = c(\"up\", \"down\"), digits = NA)"},{"path":"https://jemarnold.github.io/mnirs/reference/seq_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate numeric sequence from range of a vector ‚Äî seq_range","text":"x numeric vector. numeric step size sequence. Default 1. direction character string specifying sequence direction. Either \"\" (default) ascending \"\" descending sequence. digits integer specifying number decimal places round range endpoints, NA (default) rounding.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/seq_range.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate numeric sequence from range of a vector ‚Äî seq_range","text":"numeric vector spanning range input data.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/seq_range.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate numeric sequence from range of a vector ‚Äî seq_range","text":"output vector likely different length input vector. function: Calculates range x (ignoring NA values). Optionally rounds range endpoints digits specified. Generates sequence specified step size. Reverses sequence direction = \"\".","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/shift_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Shift data range ‚Äî shift_mnirs","title":"Shift data range ‚Äî shift_mnirs","text":"Move range data channels data frame , preserving absolute amplitude/dynamic range channel, relative scaling across channels. e.g. shift minimum data value zero positive values, shift mean first time span recording zero.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/shift_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shift data range ‚Äî shift_mnirs","text":"","code":"shift_mnirs(   data,   nirs_channels = list(NULL),   time_channel = NULL,   to = NULL,   by = NULL,   width = NULL,   span = NULL,   position = c(\"min\", \"max\", \"first\"),   verbose = TRUE )"},{"path":"https://jemarnold.github.io/mnirs/reference/shift_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Shift data range ‚Äî shift_mnirs","text":"data data frame class \"mnirs\" containing time series data metadata. nirs_channels character vector mNIRS channel names operate . Must match column names data exactly. Retrieved metadata defined explicitly. time_channel character string indicating time sample channel name. Must match column names data exactly. Retrieved metadata defined explicitly. numeric value units nirs_channels data channels shifted, e.g. shift minimum value zero. numeric value units nirs_channels data channels shifted, e.g. shift values 10 units. width integer defining local window number samples around idx perform operation., [idx - floor(width/2), idx + floor(width/2)]. span numeric value defining local window timespan around idx perform operation. units time_channel t, [t - span/2, t + span/2]. position Indicates reference values shifted . \"min\" (default) shift minimum value(s) specified value. \"max\" shift maximum value(s) specified values. \"first\" shift first value(s) specified values. verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/shift_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Shift data range ‚Äî shift_mnirs","text":"tibble class \"mnirs\" metadata available attributes().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/shift_mnirs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Shift data range ‚Äî shift_mnirs","text":"nirs_channels = list() can used group data channels (column names) preserve absolute relative scaling. Channels grouped together vector (e.g. list(c(\"\", \"B\"))) shifted common value, relative scaling within group preserved. Channels separate list vectors (e.g. list(\"\", \"B\")) shifted independently, relative scaling groups lost. single vector channel names (e.g. c(\"\", \"B\")) group channels together. Channels (columns) data explicitly defined nirs_channels passed untouched output data frame. nirs_channels time_channel can retrieved automatically data class \"mnirs\" processed {mnirs}, defined explicitly. default returning nirs_channels grouped together, defined explicitly grouping arrangements. one either one either width span defined. either pairing defined, preferred , width preferred span.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/shift_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Shift data range ‚Äî shift_mnirs","text":"","code":"options(mnirs.verbose = FALSE)  ## read example data data <- read_mnirs(     file_path = example_mnirs(\"moxy_ramp\"),     nirs_channels = c(smo2_right = \"SmO2 Live\",                       smo2_left = \"SmO2 Live(2)\"),     time_channel = c(time = \"hh:mm:ss\") ) |>     resample_mnirs() |>     replace_mnirs(         invalid_values = c(0, 100),         outlier_cutoff = 3,         width = 10,         method = \"linear\"     ) |>     filter_mnirs(na.rm = TRUE) |>     shift_mnirs(         nirs_channels = list(smo2_right, smo2_left),         to = 0,            ## each channel will be shifted to zero         span = 120,        ## shift the mean of the first 120 sec         position = \"first\"     ) #> ‚Ñπ `nirs_channel` = \"smo2_right\": `smooth.spline(spar = 0.056)` #> ‚Ñπ `nirs_channel` = \"smo2_left\": `smooth.spline(spar = 0.056)`  library(ggplot2) plot(data, label_time = TRUE) +     geom_hline(yintercept = 0, linetype = \"dotted\")"},{"path":"https://jemarnold.github.io/mnirs/reference/signif_trailing.html","id":null,"dir":"Reference","previous_headings":"","what":"Format numbers for display as character strings ‚Äî signif_trailing","title":"Format numbers for display as character strings ‚Äî signif_trailing","text":"signif_trailing() converts numeric values character strings preserve trailing zeroes signif_whole() rounds numeric values specified number significant figures, nearest whole value number digits x greater digits. signif_pvalue() displays p-values either formatted numeric strings significance symbols.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/signif_trailing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format numbers for display as character strings ‚Äî signif_trailing","text":"","code":"signif_trailing(x, digits = 2L, format = c(\"digits\", \"signif\"))  signif_whole(x, digits = 5L)  signif_pvalue(   x,   digits = 3L,   format = c(\"digits\", \"signif\"),   display = c(\"value\", \"symbol\"),   symbol = \"*\",   symbol_repeat = FALSE,   alpha = 0.05 )"},{"path":"https://jemarnold.github.io/mnirs/reference/signif_trailing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format numbers for display as character strings ‚Äî signif_trailing","text":"x numeric vector. digits integer specifying number decimal places significant figures preserve. Negative digits values round nearest whole value 10^(digits). format Indicates treat digits. Either desired number decimal places (format = \"digits\", default) significant figures decimal place (format = \"signif\"). display Specifies output type, either \"value\" (default) formatted numbers \"symbol\" significance symbols. symbol Character string specifying significance symbol. Default \"*\". symbol_repeat Logical indicating whether repeat symbols different significance levels. Default FALSE. alpha numeric value specifying significance threshold. Default 0.05.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/signif_trailing.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format numbers for display as character strings ‚Äî signif_trailing","text":"signif_trailing() returns character vector formatted numbers length x. signif_whole() returns numeric vector length x. signif_pvalue() returns character vector formatted p-values significance symbols length x.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/signif_trailing.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Format numbers for display as character strings ‚Äî signif_trailing","text":"signif_trailing() Negative digits round respective integer place, e.g. signif_trailing(123, digits = -1) returns \"120\". Decimal rounding based \"banker's rounding\" default behaviour signif() round(), signif(123.45, 4) round(123.45, 1) return 123.4. signif_whole() Negative digits round nearest whole value digits = 0, e.g. signif_whole(123, digits = -5) still returns 123. signif_pvalue() display = \"value\" e.g. digits = 3, x either rounded 3 decimal places signif_trailing(), appear e.g. \"< 0.001\". digits = 1 display \"less alpha\", e.g. \"< 0.05\". display = \"symbol\", symbol_repeat = TRUE: Uses repeated symbols based thresholds (0.001 = \"***\", 0.01 = \"**\", alpha = \"*\", ns = \"\"). symbol_repeat = FALSE: Shows one symbol \"*\" p < alpha, otherwise empty string.","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/specify_intervals.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert event indices and spans to interval specifications ‚Äî specify_intervals","title":"Convert event indices and spans to interval specifications ‚Äî specify_intervals","text":"Convert event indices spans interval specifications","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/specify_intervals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert event indices and spans to interval specifications ‚Äî specify_intervals","text":"","code":"specify_intervals(time_vec, event_indices, span, verbose = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/reference/theme_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom mnirs ggplot2 theme ‚Äî theme_mnirs","title":"Custom mnirs ggplot2 theme ‚Äî theme_mnirs","text":"[ggplot2][ggplot2::ggplot2-package] theme display.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/theme_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom mnirs ggplot2 theme ‚Äî theme_mnirs","text":"","code":"theme_mnirs(   base_size = 14,   base_family = \"sans\",   border = c(\"partial\", \"full\"),   ink = \"black\",   paper = \"white\",   accent = \"#0080ff\",   ... )"},{"path":"https://jemarnold.github.io/mnirs/reference/theme_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom mnirs ggplot2 theme ‚Äî theme_mnirs","text":"base_size Base font size, given pts. base_family Base font family. border Define either partial full border around plots. ink Colour text lines. Default \"black\". paper Background colour. Default \"white\". accent Accent colour highlights. Default \"#0080ff\". ... Additional arguments add [theme()][ggplot2::theme()].","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/theme_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom mnirs ggplot2 theme ‚Äî theme_mnirs","text":"ggplot2 object.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/theme_mnirs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Custom mnirs ggplot2 theme ‚Äî theme_mnirs","text":"axis.title = element_text(face = \"bold\") default Modify \"plain\". panel.grid.major & panel.grid.major set blank. Modify = element_line() visible grid lines. legend.position = \"top\" default Modify \"none\" remove legend entirely. border = \"partial\" uses panel.border = element_blank() axis.line = element_line(). border = \"full\" uses panel.border = element_rect(colour = \"black\", linewidth = 1) axis.line = element_line(). base_family = \"sans\" default. \"Merriweather Sans\" nice alternative font can installed https://fonts.google.com/specimen/Merriweather+Sans.","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/theme_mnirs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom mnirs ggplot2 theme ‚Äî theme_mnirs","text":"","code":"library(ggplot2)  ## set theme for the current script theme_set(theme_mnirs())  ## plot example data read_mnirs(     file_path = example_mnirs(\"moxy_ramp\"),     nirs_channels = c(smo2_right = \"SmO2 Live\",                       smo2_left = \"SmO2 Live(2)\"),     time_channel = c(time = \"hh:mm:ss\"),     verbose = FALSE ) |>     plot(label_time = TRUE)"},{"path":"https://jemarnold.github.io/mnirs/reference/train.red_intervals.csv.html","id":null,"dir":"Reference","previous_headings":"","what":"10 Hz Train.Red App export ‚Äî train.red_intervals.csv","title":"10 Hz Train.Red App export ‚Äî train.red_intervals.csv","text":"Exported Train.Red app, recorded 10 Hz. Containing two 5-minute cycling work intervals, placed bilateral vastus lateralis muscle sites. data channels omitted keep file size .","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/train.red_intervals.csv.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"10 Hz Train.Red App export ‚Äî train.red_intervals.csv","text":".csv file header metadata 10 eolumns 12001 rows. nirs_channels = c(\"SmO2 unfiltered\", \"HBDiff unfiltered\") time_channel = c(\"Timestamp (seconds passed)\") event_channel = c(\"Lap/Event\") event_times = c(2455, 3166) ## c(371, 1082) zero_time","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/validate_mnirs.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate {mnirs} parameters ‚Äî validate_mnirs","title":"Validate {mnirs} parameters ‚Äî validate_mnirs","text":"Passes manually defined parameters, defines metadata present, validates relevant data quality checks.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/validate_mnirs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate {mnirs} parameters ‚Äî validate_mnirs","text":"","code":"validate_numeric(   x,   elements = Inf,   range = NULL,   inclusive = c(\"left\", \"right\"),   integer = FALSE,   msg1 = \"\",   msg2 = \".\" )  validate_mnirs_data(data, ncol = 2L)  validate_nirs_channels(   nirs_channels,   data,   verbose = TRUE,   env = rlang::caller_env() )  validate_time_channel(time_channel, data, env = rlang::caller_env())  validate_event_channel(   event_channel,   data,   required = TRUE,   env = rlang::caller_env() )  estimate_sample_rate(x)  validate_sample_rate(data, time_channel, sample_rate, verbose = TRUE)  validate_width_span(width = NULL, span = NULL, verbose = TRUE)  validate_x_t(x, t = seq_along(x))"},{"path":"https://jemarnold.github.io/mnirs/reference/validate_mnirs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate {mnirs} parameters ‚Äî validate_mnirs","text":"x numeric vector. elements numeric value number numeric elements arg. range two-element numeric vector range valid numeric values arg. inclusive character vector specify left /right boundary values included range, (default), excluded FALSE. integer logical indicating whether test arg integer using rlang::is_integerish(), rather numeric (FALSE default). msg1, msg2 character string detailing cli_abort error message returned invalid numeric values passed arg. data data frame class \"mnirs\" containing time series data metadata. nirs_channels character vector mNIRS channel names operate . Must match column names data exactly. Retrieved metadata defined explicitly. verbose logical display (default) silence (FALSE) warnings information messages used troubleshooting. time_channel character string indicating time sample channel name. Must match column names data exactly. Retrieved metadata defined explicitly. event_channel character string indicating event lap channel name. Must match column names data exactly. Retrieved metadata defined explicitly. required logical specifying whether event_channel required (default) optional (event_channel returned NULL). sample_rate numeric value exported data sample rate Hz. Retrieved metadata estimated time_channel defined explicitly.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/validate_mnirs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate {mnirs} parameters ‚Äî validate_mnirs","text":"validated object error message cli::cli_abort().","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/vo2master.csv.html","id":null,"dir":"Reference","previous_headings":"","what":"1 Hz VO2master app recording from Moxy ‚Äî vo2master.csv","title":"1 Hz VO2master app recording from Moxy ‚Äî vo2master.csv","text":"Exported VO2 Master Manager app, recorded 1 Hz. short example recording three sensors.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/vo2master.csv.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"1 Hz VO2master app recording from Moxy ‚Äî vo2master.csv","text":".csv file 12 columns 240 rows. nirs_channels = c(\"SmO2[%]\", \"SmO2 -  2[%]\", \"SmO2 -  3[%]\", \"THb[THb]\", \"THb -  2[THb]\", \"THb -  3[THb]\") time_channel = c(\"Time[s]\", \"Time[hh:mm:ss]\")","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/within.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect if numeric values fall within range of a vector ‚Äî within","title":"Detect if numeric values fall within range of a vector ‚Äî within","text":"Vectorised check x %% vec, inclusive exclusive left right boundary values, specified independently.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/within.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect if numeric values fall within range of a vector ‚Äî within","text":"","code":"within(x, vec, inclusive = c(\"left\", \"right\"))"},{"path":"https://jemarnold.github.io/mnirs/reference/within.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect if numeric values fall within range of a vector ‚Äî within","text":"x numeric vector. vec numeric vector left right boundary values x taken. inclusive character vector specify left /right boundary values included range, (default), excluded FALSE.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/within.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect if numeric values fall within range of a vector ‚Äî within","text":"logical vector length x.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/within.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Detect if numeric values fall within range of a vector ‚Äî within","text":"inclusive = FALSE can used test positive non-zero values: within(x, c(0, Inf), inclusive = FALSE).","code":""},{"path":[]},{"path":"https://jemarnold.github.io/mnirs/reference/wrap.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrap vector elements ‚Äî wrap","title":"Wrap vector elements ‚Äî wrap","text":"Rotates vector elements moving first n elements end.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/wrap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrap vector elements ‚Äî wrap","text":"","code":"wrap(x, n = 0L)"},{"path":"https://jemarnold.github.io/mnirs/reference/wrap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrap vector elements ‚Äî wrap","text":"x vector. n integer specifying number elements move start end. Default 0 (wrapping). Negative values move elements end start.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/wrap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrap vector elements ‚Äî wrap","text":"vector elements x.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/wrap.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Wrap vector elements ‚Äî wrap","text":"function: Returns x unchanged n = 0. Moves first n elements end vector. negative n, effectively moves elements end start. n larger length(x), positions wrap around.","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/zero_offset_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Recalculate time_channel values with zero offset at event time (x0) ‚Äî zero_offset_data","title":"Recalculate time_channel values with zero offset at event time (x0) ‚Äî zero_offset_data","text":"Recalculate time_channel values zero offset event time (x0)","code":""},{"path":"https://jemarnold.github.io/mnirs/reference/zero_offset_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recalculate time_channel values with zero offset at event time (x0) ‚Äî zero_offset_data","text":"","code":"zero_offset_data(data, time_channel, x0)"},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-041","dir":"Changelog","previous_headings":"","what":"mnirs 0.4.1","title":"mnirs 0.4.1","text":"Create article ‚ÄúAnalysing muscle oxidative capacity {mnirs}‚Äù. Add portamon-oxcap.xlsx example file (thanks Dr.¬†Thomas Tripp Dr.¬†Martin MacInnis). Update train.red_intervals.csv, delete redundant NIRS channels reduce file size. Fix SS_monoexp3() internally look TD parameter. Remove monoexp_init() exported internal.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-040","dir":"Changelog","previous_headings":"","what":"mnirs 0.4.0","title":"mnirs 0.4.0","text":"monoexponential() equation 4-parameter monoexponential function parametera ‚Äú‚Äù, ‚ÄúB‚Äù, ‚Äútau‚Äù, ‚ÄúTD‚Äù. SS_monoexp*() self-starting functions nls() curve fitting functions, either 4-parameter monoexponential function, reduced 3-parameter function without time delay (‚ÄúTD‚Äù). fix_coef() used update model number parameters set fixed values, e.g.¬†starting ending values known priori. entering fixed values, remaining parameters left free optimised (experimental function, may work called within nested function conditions, need validate). Add vo2master.csv example file recorded VO2 Master Manager app (thanks Philip Skotzke). Update read_mnirs() correctly convert ‚Äú,‚Äù decimal values numeric (thanks Philip Skotzke). Simplify data.table::fread() .csv files multiple regional formats. replace_invalid() replace_outliers() now inform number samples replaced (thanks Philip Skotzke).","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-030","dir":"Changelog","previous_headings":"","what":"mnirs 0.3.0","title":"mnirs 0.3.0","text":"Create peak_slope(). slope() rolling_slope() become internal. partial = FALSE effectively covers na.rm = FALSE fewer width number valid samples exist local vector. na.rm arg currently remains filter_mnirs() functions, may removed future. Implement data.table::fread() handle .csv empty rows long string metadata header data table. Awaiting future expanded data.table implementation across mnirs, .e.¬†data.table::froll* functions. Fix filter_moving_average() correctly identify windows partial = FALSE met due NAs. Remove internal roll dependency. Remove internal function examples minimise \\donttest() issues.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-020","dir":"Changelog","previous_headings":"","what":"mnirs 0.2.0","title":"mnirs 0.2.0","text":"Implement tidy evaluation rlang tidyselect. Update function documentation & examples, README, vignette. Fix filter_moving_average() rolling_mean() correctly use partial na.rm arguments. Fix shift_mnirs() correctly use width span arguments.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-019","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.9","title":"mnirs 0.1.9","text":"Create rolling_slope() calculate local linear regression slopes along vector. Currently used: roll_lm() rolling_slope(), roll_median() replace_outliers(), roll_mean() filter_moving_average(). May roll back favour data.table::froll_* 1.17.99+ updated CRAN. Currently used: internal compute_local_windows() rolling_slope(). Update internal compute_local_fun() allow additional arguments, e.g.¬†na.rm = TRUE. Affects: filter_mnirs.smooth_spline(), filter_mnirs.moving_average(), parse_sample_rate() clean_invalid() read_mnirs(), replace_mnirs(), resample_mnirs(), shift_mnirs(), validate_sample_rate(). Affects: replace_invalid(), replace_outliers(), replace_missing(), filter_moving_average(), new functions slope(), rolling_slope(). Update validate_numeric() logic reduce overhead.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-018","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.8","title":"mnirs 0.1.8","text":"Create extract_intervals() detect events extract surrounding data frames. Replace internal () within() differentiate dplyr::(). Update README image mnirs shiny app. Update filter_mnirs() error message fc outside 0 Hz Nyquist frequency.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-017","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.7","title":"mnirs 0.1.7","text":"Minor edits functions documentation improve clarity. filter_mnirs() filter_butter() arg n order. palette_mnirs() arg n either numeric character, numeric, names character arg. replace_mnirs(), replace_outleirs(), replace_missing(), resample_mnirs() arg method = \"NA\" method = \"none\". Revert argument inform verbose. Standardise cli_inform(), cli_warn(), cli_abort() messages. Remove redundant resample_mnirs() argument resample_time.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-016","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.6","title":"mnirs 0.1.6","text":"signif_whole() applies sig-fig rounding decimal places, whole values. signif_trailing() applies decimal sig-fig rounding convers character strings trailing zeroes, display. signif_pvalue() applies formatting p-value display character strings significance symbols. seq_range() creates numeric sequence spanning range ipnut vector. wrap() rotates vector elements head tail (tail head) position. Add statement use generative AI codebots README.Rmd","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-015","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.5","title":"mnirs 0.1.5","text":"Remove redundant validation checks replace_mnirs(). Fix erroneous url _pkgdown.yml. Update internal validate_event_channel error empty numeric character column. Cover new options(mnirs.inform = FALSE). Cover unlisted metadata added create_mnirs_data(). Cover hidden plot.mnirs() options.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-014","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.4","title":"mnirs 0.1.4","text":"Update argument inform replaces verbose display/hide messages & warnings. Global option mnirs.inform = FALSE override functions‚Äô implicit default inform = TRUE. Explicit call inform = TRUE override global option. Replace ranges invalid_above invalid_below, respectively.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-013","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.3","title":"mnirs 0.1.3","text":"Remove redundant file mnirs.test-package.Rd. Remove obsolete {utils} dependency. Remove redundant nirs_device arg internal read_data_table(). Implement air formatter. Migrate package development Positron IDE.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-012","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.2","title":"mnirs 0.1.2","text":"Update internal helpers: compute_local_windows() & compute_window_of_valid_neighbours() Update appropriate documentation. Update README, vignette, & examples width = 10. entirely sure pass CRAN. May need update. Update create_mnirs_data() correctly accept listed unlisted metadata.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-011","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.1","title":"mnirs 0.1.1","text":"Fix formatting error README.Rmd. Remove obsolete code resample_mnirs.R. Add missing tests replace_mnirs(), resample_mnirs(), plot.mnirs(). Update documentation formatting examples.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-010-initial-release","dir":"Changelog","previous_headings":"","what":"mnirs 0.1.0 initial release","title":"mnirs 0.1.0 initial release","text":"Initial release reading cleaning functions. Basic README demonstrating functionality. Website documentation available , including function reference index vignettes.","code":""},{"path":"https://jemarnold.github.io/mnirs/news/index.html","id":"mnirs-0009000","dir":"Changelog","previous_headings":"","what":"mnirs 0.0.0.9000","title":"mnirs 0.0.0.9000","text":"initial commit. project setup.","code":""}]
