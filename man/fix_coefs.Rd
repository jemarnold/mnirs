% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/monoexponential.R
\name{fix_coefs}
\alias{fix_coefs}
\title{Update a model object with Fixed coefficients}
\usage{
fix_coefs(model, data = NULL, verbose = TRUE, ...)
}
\arguments{
\item{model}{An existing model object from \code{lm}, \code{nls}, \code{glm}, and others.}

\item{data}{An \emph{optional} data frame to supply manually if original data
frame is unavailable from a different parent environment.}

\item{verbose}{A logical to display (the \emph{default}) or silence (\code{FALSE})
warnings and information messages used for troubleshooting.}

\item{...}{Named model coefficients to fix.}
}
\value{
An updated model object with remaining free coefficients.
}
\description{
Re-fit a model with fixed coefficients provided as additional arguments. Fixed
coefficients are not modified when optimising for best fit.
}
\details{
If no fixed coefficients are supplied, or if a coefficient does not exist
in the model, the model will be returned unchanged (with a warning).

The function cannot update if all model coefficients are supplied as fixed,
and will abort.
}
\examples{
\dontshow{if ((identical(Sys.getenv("NOT_CRAN"), "true") || identical(Sys.getenv("IN_PKGDOWN"), "true"))) withAutoprint(\{ # examplesIf}
set.seed(13)
t <- 1:60

## create an exponential curve with random noise
x <- monoexponential(t, A = 10, B = 100, TD = 15, tau = 8) + rnorm(length(t), 0, 3)
data <- data.frame(t, x)

(model <- nls(x ~ SS_monoexp(t, A, B, TD, tau), data = data))
y <- predict(model, data)

## update the model with a priori fixed parameter
(model_fixed_TD <- fix_coefs(model, TD = 13))
y2 <- predict(model_fixed_TD, data)

library(ggplot2)
ggplot(data, aes(t, x)) +
    theme_mnirs() +
    scale_colour_mnirs(name = NULL) +
    geom_point() +
    geom_line(aes(y = y, colour = "free")) +
    geom_line(aes(y = y2, colour = "fixed TD"))
\dontshow{\}) # examplesIf}
}
\keyword{internal}
