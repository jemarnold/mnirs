% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/filter_mnirs.R
\name{filter_moving_average}
\alias{filter_moving_average}
\title{Apply a moving average filter}
\usage{
filter_moving_average(
  x,
  t = seq_along(x),
  width = NULL,
  span = NULL,
  verbose = TRUE
)
}
\arguments{
\item{x}{A numeric vector.}

\item{t}{An \emph{optional} numeric vector of time or sample number.}

\item{width}{An integer value defining the number of samples centred on
\code{idx} over which the operation will be performed.}

\item{span}{A numeric value in units of \code{time_channel} defining the timespan
centred on \code{idx} over which the operation will be performed.}

\item{verbose}{A logical to return (the \emph{default}) or silence warnings and
messages which can be used for data error checking. Abort errors will
always be returned.}
}
\value{
A numeric vector the same length as \code{x}.
}
\description{
Apply a simple moving average smoothing filter to vector data
}
\details{
Applies a centred (symmetrical) moving average filter in a local window
defined by either \code{width} as the number of samples around \code{idx} between
\verb{[idx - floor(width/2),} \verb{idx + floor(width/2)]}. Or by \code{span} as the
timespan in units of \code{time_channel} between \verb{[t - span/2, t + span/2]}.

If there are no valid values within the calculation window, will return \code{NA}.
A partial moving average will be calculated at the edges of the data.
}
\examples{
## basic moving average with sample width
x <- c(1, 3, 2, 5, 4, 6, 5, 7)
filter_moving_average(x, width = 3)

## with explicit time vector
t <- c(0, 1, 2, 3, 4, 5, 6, 7)
filter_moving_average(x, t, width = 2)

## using timespan instead of sample width
filter_moving_average(x, span = 2)

}
\seealso{
\code{\link[zoo:rollmean]{zoo::rollmean()}}
}
