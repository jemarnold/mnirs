% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/peak_slope.R
\name{analyse_peak_slope}
\alias{analyse_peak_slope}
\title{Analyse peak linear slope}
\usage{
analyse_peak_slope(
  data,
  nirs_channels,
  time_channel,
  width = NULL,
  span = NULL,
  align = c("centre", "left", "right"),
  direction = c("auto", "positive", "negative"),
  partial = FALSE,
  channel_args = list(NULL),
  verbose = TRUE,
  ...
)
}
\arguments{
\item{data}{A data frame of class \emph{"mnirs"} containing time series data
and metadata.}

\item{nirs_channels}{A character vector of mNIRS channel names to operate
on. Must match column names in \code{data} exactly. Retrieved from metadata
if not defined explicitly.}

\item{time_channel}{A character string indicating the time or sample channel
name. Must match column names in \code{data} exactly. Retrieved from metadata
if not defined explicitly.}

\item{width}{An integer defining the local window in number of samples
around \code{idx} in which to perform the operation, according to \code{align}.}

\item{span}{A numeric value defining the local window timespan around \code{idx}
in which to perform the operation, according to \code{align}. In units of
\code{time_channel} or \code{t}.}

\item{align}{Window alignment as \emph{"centre"/"center"} (the \emph{default}),
\emph{"left"}, or \emph{"right"}. Where \emph{"left"} is \emph{forward looking}, and \emph{"right"}
is \emph{backward looking} from the current sample.}

\item{direction}{A character string to detect either the peak
\code{"positive"} or \code{"negative"} slope, or \code{"auto"} detect (the \emph{default})
based on the overal trend of the signal (see \emph{Details}).}

\item{partial}{A logical specifying whether to perform the operation over a
subset of available data within the local rolling window (\code{TRUE}), or
requiring a complete window of valid samples (\code{FALSE}, by \emph{default}). See
\emph{Details}.}

\item{channel_args}{An \emph{optional} \code{list()} named by \code{nirs_channel} with
unique per-channel arguments to override global default arguments (see
\emph{Details}).}

\item{verbose}{A logical to display (the \emph{default}) or silence (\code{FALSE})
warnings and information messages used for troubleshooting.}

\item{...}{Additional arguments.}
}
\description{
Processes the maximum positive or negative local linear slope for each
\code{nirs_channel} within a data frame and return a data frame of regression
parameters.
}
\details{
\subsection{Per-channel arguments}{

Arguments in \code{analyse_peak_slope()} apply to all \code{nirs_channels} by default.
\code{channel_args} allows overriding defaults with unique values per
\code{nirs_channel}. e.g.:

\if{html}{\out{<div class="sourceCode">}}\preformatted{analyse_peak_slope(
    data = df,
    nirs_channels = c(hhb, smo2),
    span = 3, 
    direction = "positive",
    channel_args = list(
        hhb = list(span = 5),
        smo2 = list(direction = "negative")
    )
)
}\if{html}{\out{</div>}}
}
}
\keyword{internal}
